<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>PERT</title>
      <link href="/2022/03/13/PERT/"/>
      <url>/2022/03/13/PERT/</url>
      
        <content type="html"><![CDATA[<p>PERT: Program Evaluation and Review Technique</p><h2 id="1-Tasks"><a href="#1-Tasks" class="headerlink" title="1. Tasks"></a>1. Tasks</h2><p>Try to write source code to implement the REPT process, i.e., identifying critical activities and critical path, and calculating the time to complete this software project. The following requirements should be satisfied:</p><ol><li>Upload all source code files (non including some compiling files, configuration files, etc.).</li><li>Given a example (the example in the slide or your another example) as an input of your source code, show the result of your source code by screenshot.</li><li>You choose use a file folder to include all these files, and the compress it into a compressed file for submission.</li></ol><h2 id="2-Basic-Algorithms-to-solve-this-issue"><a href="#2-Basic-Algorithms-to-solve-this-issue" class="headerlink" title="2. Basic Algorithms to solve this issue"></a>2. Basic Algorithms to solve this issue</h2><h3 id="2-0-Variables-and-its-meaning"><a href="#2-0-Variables-and-its-meaning" class="headerlink" title="2.0 Variables and its meaning"></a>2.0 Variables and its meaning</h3><ul><li>EST: Earliest Start Time</li><li>EFT: Earliest Finish Time</li><li>LST: Latest Start Time</li><li>LFT: Latest Finish Time</li><li>PRT: Project Time Usage (of each activity)</li></ul><h3 id="2-1-Store-data-into-adjacency-matrix"><a href="#2-1-Store-data-into-adjacency-matrix" class="headerlink" title="2.1 Store data into adjacency matrix"></a>2.1 Store data into adjacency matrix</h3><p>In a PRET example, firstly we need to know how many activities should we solve, namely, input num as the total of PRET activities. Next, we need to build an array to storage the time usage in each of the task, namely, PRT.</p><p>The most difficult task, relatively speaking compared with the following input, is to storage the immediate predecessors of each activities. We can either use adjacency matrix or adjacency linked list to storage the predecessors, in my program, I will use matrix instead of linked list since the value num is not too large.</p><h3 id="2-2-Topological-sort"><a href="#2-2-Topological-sort" class="headerlink" title="2.2 Topological sort"></a>2.2 Topological sort</h3><p>As we all know, topological sort algorithm is useful and convenient to solve the dependency resolution which is extremely similar to PREP, hence I will use topological sort algorithm to implement the <strong>Earliest Start Time</strong> of each node. And the key formula to get EST is</p><pre class="language-none"><code class="language-none">EST[j] &#x3D; max(EST[i] + PRT[i],EST[j])</code></pre><p><strong>Earliest Finish Time</strong> is simple to achieve when we know the EST since<br><code>EFT = EST+PRT</code></p><p>The rest of two arrays <strong>Latest Start Time</strong> and <strong>Latest Finish Time</strong> is harder to find out. Actually, we can find out either of the two values and the other is easy to know since<br><code>LST=LFT-PRT</code></p><p>What I need to do is reverse all the arrows in PREP, that is, change the last activity to the first activity and change the first activity to the last one, and reverse all the activities and immediate predecessors. Using the same method with solving the EST, we can find out the LFT in the same way. Just Transpose the adjacency matrix, and use the key formula<br><code>LST[j]=min(LFT[i]-PRT[i],LFT[j])</code></p><h3 id="2-3-Solutions"><a href="#2-3-Solutions" class="headerlink" title="2.3 Solutions"></a>2.3 Solutions</h3><p>After Getting four arrays EST, EFT, LST, LFT, we can easily find the Critical activities and Critical paths by Slacks, and the formula is<br><code>Slack = LST-EST=LFT-EFT</code></p><p>If Slack is not zero, then this activity is a critical activity and those slacks can contribute to the critical path.</p><h2 id="3-Example-and-Results"><a href="#3-Example-and-Results" class="headerlink" title="3. Example and Results"></a>3. Example and Results</h2><p>While using the example given below, we can create a graph and given it into adjacency matrix.</p><div class="table-container"><table><thead><tr><th style="text-align:left">ACTIVIEY CODE</th><th style="text-align:left">IMMEDIATE PREDCESSORS</th><th style="text-align:left">TIME USAGE</th></tr></thead><tbody><tr><td style="text-align:left">1</td><td style="text-align:left">–</td><td style="text-align:left">2</td></tr><tr><td style="text-align:left">2</td><td style="text-align:left">1</td><td style="text-align:left">4</td></tr><tr><td style="text-align:left">3</td><td style="text-align:left">2</td><td style="text-align:left">10</td></tr><tr><td style="text-align:left">4</td><td style="text-align:left">3</td><td style="text-align:left">6</td></tr><tr><td style="text-align:left">5</td><td style="text-align:left">3</td><td style="text-align:left">4</td></tr><tr><td style="text-align:left">6</td><td style="text-align:left">5</td><td style="text-align:left">5</td></tr><tr><td style="text-align:left">7</td><td style="text-align:left">4</td><td style="text-align:left">7</td></tr><tr><td style="text-align:left">8</td><td style="text-align:left">5 7</td><td style="text-align:left">9</td></tr><tr><td style="text-align:left">9</td><td style="text-align:left">3</td><td style="text-align:left">7</td></tr><tr><td style="text-align:left">10</td><td style="text-align:left">6 9</td><td style="text-align:left">8</td></tr><tr><td style="text-align:left">11</td><td style="text-align:left">10</td><td style="text-align:left">4</td></tr><tr><td style="text-align:left">12</td><td style="text-align:left">10</td><td style="text-align:left">5</td></tr><tr><td style="text-align:left">13</td><td style="text-align:left">8</td><td style="text-align:left">2</td></tr><tr><td style="text-align:left">14</td><td style="text-align:left">11 12</td><td style="text-align:left">6</td></tr></tbody></table></div><p>The input in the program is shown below:</p><p><img src="/2022/03/13/PERT/image-20210926121305734.png" alt="img" loading="lazy"></p><p>And the graph is shown in the graph into a matrix.</p><p><img src="/2022/03/13/PERT/image-20210926121433312.png" alt="img" loading="lazy"></p><p><img src="/2022/03/13/PERT/image-20210926121452437.png" alt="img" loading="lazy"></p><p>Finally we can get the solutions using topological sort algorithm.</p><p><img src="/2022/03/13/PERT/image-20210926121557824.png" alt="img" loading="lazy"></p><p>And the solution is shown below.</p><p><img src="/2022/03/13/PERT/image-20210926125842698.png" alt="img" loading="lazy"></p><h2 id="4-Code"><a href="#4-Code" class="headerlink" title="4. Code"></a>4. Code</h2><pre class="language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;sstream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iomanip></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;fstream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stack></span></span>using namespace std<span class="token punctuation">;</span>ifstream <span class="token function">fin</span><span class="token punctuation">(</span><span class="token string">"data.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> num<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//******************* Read Datas *******************</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Please input the number of total projects:"</span><span class="token punctuation">;</span>fin <span class="token operator">>></span> num<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> num <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">int</span><span class="token operator">*</span> pro_time <span class="token operator">=</span> new <span class="token keyword">int</span><span class="token punctuation">[</span>num <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//Project time usage</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">map</span><span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//adjacency matrix</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Please input the time that Project "</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">" should be used:"</span><span class="token punctuation">;</span>fin <span class="token operator">>></span> pro_time<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> pro_time<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Please input which project(s) should be done before Project "</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">":"</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> temp<span class="token punctuation">;</span>fin<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>string str<span class="token punctuation">;</span><span class="token function">getline</span><span class="token punctuation">(</span>fin<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> tt<span class="token punctuation">;</span>stringstream <span class="token function">ss</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span> <span class="token punctuation">(</span>ss <span class="token operator">>></span> tt<span class="token punctuation">)</span>temp<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>tt<span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>temp<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token keyword">else</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> tt <span class="token operator">:</span> temp<span class="token punctuation">)</span>map<span class="token punctuation">[</span>tt<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> pro_time<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//******************* EST and EFT *******************</span><span class="token keyword">int</span><span class="token operator">*</span> Earliset_Start <span class="token operator">=</span> new <span class="token keyword">int</span><span class="token punctuation">[</span>num <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>Earliset_Start<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//******************* Topological Sort *******************</span>stack<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> stk<span class="token punctuation">;</span>stk<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stk<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> i <span class="token operator">=</span> stk<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stk<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>stk<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>Earliset_Start<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>Earliset_Start<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> pro_time<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> Earliset_Start<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//Earliset Finish</span><span class="token keyword">int</span><span class="token operator">*</span> Earliset_Finish <span class="token operator">=</span> new <span class="token keyword">int</span><span class="token punctuation">[</span>num <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>Earliset_Finish<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Earliset_Start<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> pro_time<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//******************* LST and LFT **************************</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>map<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span><span class="token operator">*</span> Latest_Finish <span class="token operator">=</span> new <span class="token keyword">int</span><span class="token punctuation">[</span>num <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> Finish_time <span class="token operator">=</span> Earliset_Finish<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>Latest_Finish<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Finish_time<span class="token punctuation">;</span><span class="token comment">//******************* Topological Sort *******************</span>stk<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//need to optimize...</span>stk<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//need to optimize...</span><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stk<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> i <span class="token operator">=</span> stk<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stk<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>stk<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>Latest_Finish<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>Latest_Finish<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> pro_time<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> Latest_Finish<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span><span class="token operator">*</span> Latest_Start <span class="token operator">=</span> new <span class="token keyword">int</span><span class="token punctuation">[</span>num <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>Latest_Start<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Latest_Finish<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> pro_time<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//Critical Activities</span>bool<span class="token operator">*</span> Critical_Activities <span class="token operator">=</span> new bool<span class="token punctuation">[</span>num <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">if</span> <span class="token punctuation">(</span>Latest_Start<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> Earliset_Start<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>Critical_Activities<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> false<span class="token punctuation">;</span><span class="token keyword">else</span>Critical_Activities<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> true<span class="token punctuation">;</span><span class="token comment">//******************* Solutions *******************</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"________________________________________________\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"________________________________________________\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"pro_time:"</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>cout <span class="token operator">&lt;&lt;</span> pro_time<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n________________________________________________\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Earest Start:"</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>cout <span class="token operator">&lt;&lt;</span> Earliset_Start<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n________________________________________________\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Earest Finish:"</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>cout <span class="token operator">&lt;&lt;</span> Earliset_Finish<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n________________________________________________\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Latest Start:"</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>cout <span class="token operator">&lt;&lt;</span> Latest_Start<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n________________________________________________\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Latest Finish:"</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>cout <span class="token operator">&lt;&lt;</span> Latest_Finish<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n________________________________________________\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Critical Activities:"</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>cout <span class="token operator">&lt;&lt;</span> Critical_Activities<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n________________________________________________\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Critical Paths: A"</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">if</span> <span class="token punctuation">(</span>Critical_Activities<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"->"</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">char</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algorithm </tag>
            
            <tag> PERT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>背包问题</title>
      <link href="/2022/03/10/Backpack/"/>
      <url>/2022/03/10/Backpack/</url>
      
        <content type="html"><![CDATA[<p>背包问题(backpack problem)是最经典也是最简单的一类动态规划(dynamic programming)问题，本篇文章重点讲解背包问题中的0-1背包，完全背包，以及多重背包三大问题，顺带也会说明一下动态规划的基本策略，<strong>适合完全不理解相关算法的初学者</strong>。</p><h2 id="0-1背包-0-1-Knapsack-Problem"><a href="#0-1背包-0-1-Knapsack-Problem" class="headerlink" title="0-1背包(0-1 Knapsack Problem)"></a>0-1背包(0-1 Knapsack Problem)</h2><h3 id="1-1-问题描述"><a href="#1-1-问题描述" class="headerlink" title="1.1 问题描述"></a>1.1 问题描述</h3><p>一共有$N$件物品，每件物品的价格为$W_i$，价值为$V_i$，在总重量不超过背包承载上限$W_{max}$的情况下，如何分配使得装入背包的价值最高？</p><h3 id="1-2-问题分析"><a href="#1-2-问题分析" class="headerlink" title="1.2 问题分析"></a>1.2 问题分析</h3><p>最先想到的就是暴力穷举法，把每种可能的情况都装进去然后找到最大的情况，但是这样做显然是极其低效的，总的时间复杂度是$O(2^n)$.</p><p>因此，这里引用了动态规划的思路。在这里我们以此为例，每一组的价格和价值如图所示，假设这里背包的最大重量为$10$。</p><div class="table-container"><table><thead><tr><th style="text-align:left">N=5</th><th style="text-align:left">1</th><th style="text-align:left">2</th><th style="text-align:left">3</th><th style="text-align:left">4</th><th style="text-align:left">5</th></tr></thead><tbody><tr><td style="text-align:left">Weight</td><td style="text-align:left">1</td><td style="text-align:left">3</td><td style="text-align:left">4</td><td style="text-align:left">5</td><td style="text-align:left">2</td></tr><tr><td style="text-align:left">Value</td><td style="text-align:left">5</td><td style="text-align:left">10</td><td style="text-align:left">18</td><td style="text-align:left">20</td><td style="text-align:left">7</td></tr></tbody></table></div><p>那么接下来我们要做的事情是，创建一个二维数组<code>dp[i][j]</code>，这样的数组表示将前$i$件商品装入重量为j的背包中可以获得的最大价值，其中<script type="math/tex">0\leq i\leq N\qquad 0\leq j\leq W_{max}</script></p><p>现在我们来看一下，按照这样的规则得到的二维数组是什么样子：</p><div class="table-container"><table><thead><tr><th style="text-align:left"></th><th style="text-align:left">1</th><th style="text-align:left">2</th><th style="text-align:left">3</th><th style="text-align:left">4</th><th style="text-align:left">5</th></tr></thead><tbody><tr><td style="text-align:left">1</td><td style="text-align:left">5</td><td style="text-align:left">5</td><td style="text-align:left">5</td><td style="text-align:left">5</td><td style="text-align:left">5</td></tr><tr><td style="text-align:left">2</td><td style="text-align:left">5</td><td style="text-align:left">5</td><td style="text-align:left">5</td><td style="text-align:left">5</td><td style="text-align:left">7</td></tr><tr><td style="text-align:left">3</td><td style="text-align:left">5</td><td style="text-align:left">10</td><td style="text-align:left">10</td><td style="text-align:left">10</td><td style="text-align:left">12</td></tr><tr><td style="text-align:left">4</td><td style="text-align:left">5</td><td style="text-align:left">15</td><td style="text-align:left">18</td><td style="text-align:left">18</td><td style="text-align:left">18</td></tr><tr><td style="text-align:left">5</td><td style="text-align:left">5</td><td style="text-align:left">15</td><td style="text-align:left">23</td><td style="text-align:left">23</td><td style="text-align:left">23</td></tr><tr><td style="text-align:left">6</td><td style="text-align:left">5</td><td style="text-align:left">15</td><td style="text-align:left">23</td><td style="text-align:left">25</td><td style="text-align:left">25</td></tr><tr><td style="text-align:left">7</td><td style="text-align:left">5</td><td style="text-align:left">15</td><td style="text-align:left">28</td><td style="text-align:left">28</td><td style="text-align:left">30</td></tr><tr><td style="text-align:left">8</td><td style="text-align:left">5</td><td style="text-align:left">15</td><td style="text-align:left">33</td><td style="text-align:left">33</td><td style="text-align:left">33</td></tr><tr><td style="text-align:left">9</td><td style="text-align:left">5</td><td style="text-align:left">15</td><td style="text-align:left">33</td><td style="text-align:left">38</td><td style="text-align:left">38</td></tr><tr><td style="text-align:left">10</td><td style="text-align:left">5</td><td style="text-align:left">15</td><td style="text-align:left">33</td><td style="text-align:left">43</td><td style="text-align:left">43</td></tr></tbody></table></div><p>最后的答案就是数组右下角的结果，那么我们又该如何通过程序得到这样的数组呢？</p><p>当我们只有第一件物品的时候（数组的第一列），无论背包容量有多大都只能装下一个物品，所得到的价值也只有第一个物品的价值，此例中即为5.</p><p>当我们拥有第二件物品的时候，就要做一个选择，<strong>要么装入该物品（前提是能装得下），要么不装入该物品。</strong></p><p>那么有人可能就会问了，既然是可以装得下，那么为什么不装入这个物品呢？如果一个物品很沉很沉价值又非常之低，那么我们转入了这个物品的总价值反而要少于装了其他同等重量物品的价值，这个时候装入该物品就显得很多余了。</p><p>回到重点，对于这个二维数组来说，<strong>不装入第$i$件物品的意思是<code>dp[i-1][j]</code>，装入第$i$件物品的意思是<code>dp[i-1][j-w[i]] + v[i]</code>.</strong></p><p>请认真仔细的对照上面的数组，好好理解一下上面的表达式。那么我们得到的状态转移方程即为：<script type="math/tex">dp[i][j]=max(dp[i-1][j],\ dp[i-1][j-w[i]] + v[i])</script></p><h3 id="1-3-python代码"><a href="#1-3-python代码" class="headerlink" title="1.3 python代码"></a>1.3 python代码</h3><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> npn <span class="token operator">=</span> <span class="token number">5</span>w_max <span class="token operator">=</span> <span class="token number">10</span>w <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>v <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">18</span> <span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span>dp <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token punctuation">,</span>w_max <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dtype <span class="token operator">=</span> np<span class="token punctuation">.</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>w_max <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> j <span class="token operator">-</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">:</span>            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span>w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>w_max<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#43</span></code></pre><h3 id="1-4-算法优化"><a href="#1-4-算法优化" class="headerlink" title="1.4 算法优化"></a>1.4 算法优化</h3><p>我们可以看到，这样的0-1背包我们用时间复杂度为$O(W·N)$就可以解决，那么当$W_{max}$很大的时候，虽然时间复杂度是足够的，但是空间复杂度依旧为$O(W·N)$，这就导致了二维数组可能会超出内存限制。</p><p>实际上，我们不难发现这样一个二维数组是从上至下一层一层进行的（上面的表格是从左至右），在每次进行下一层计算的时候，只有上一层的数据是有用的，其余的数据就没有任何作用了。即，<code>dp[i][j]</code>的值只与<code>dp[i-1][0]… … dp[i-1][j]</code>是有关系的。</p><p>因此，我们可以利用这个特性，采用滚动数组的方法对空间复杂度进行优化，使其从二维变为长度为 $W_{max}$的一维数组。这种方法在动态规划中是一种常见的策略。</p><p>至于为什么是一维数组，而不是两行数组(<code>dp[i][j]</code>与<code>dp[i-1][j]</code>)，我们只需要在循环j的时候做<strong>逆向计算</strong>，从最后一个物品往前推，这样就可以避免上一组数据被覆盖掉。（仔细想一想为什么）</p><p>优化后的部分代码如下：</p><pre class="language-python" data-language="python"><code class="language-python">dp <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>w_max <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>dtype <span class="token operator">=</span> np<span class="token punctuation">.</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>w_max<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> j <span class="token operator">-</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">:</span>            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>dp<span class="token punctuation">[</span>j<span class="token operator">-</span>w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><h2 id="完全背包-Unbounded-Knapsack-Problem"><a href="#完全背包-Unbounded-Knapsack-Problem" class="headerlink" title="完全背包 (Unbounded Knapsack Problem)"></a>完全背包 (Unbounded Knapsack Problem)</h2><h3 id="2-1-问题描述"><a href="#2-1-问题描述" class="headerlink" title="2.1 问题描述"></a>2.1 问题描述</h3><p>完全背包与0-1背包唯一的区别在于完全背包中每种物品可以有无限多个。</p><h3 id="2-2-问题分析"><a href="#2-2-问题分析" class="headerlink" title="2.2 问题分析"></a>2.2 问题分析</h3><p>对于完全背包问题，我们很自然的就能想到设置一个<script type="math/tex">性价比=\frac{V_i}{W_i}</script>，这样一来只需要不停的装性价比最高的商品就能获得最优解。</p><p>然而，事实上这样的作法很多时候并不能得到最高的答案，当背包即将装满但还有一定空余时（没办法再装下一个的时候），装性价比最高的商品不见得比装性价比不那么高但是能将背包装满的商品。</p><p>事实上，上面的想法是完全可以进行下去的，只是稍稍麻烦一点。我们依旧围绕0-1背包的角度思考，只需要稍加修改即可。依旧是上一组数据，只不过每个物品可以无限拿取。</p><div class="table-container"><table><thead><tr><th style="text-align:left">N=5</th><th style="text-align:left">1</th><th style="text-align:left">2</th><th style="text-align:left">3</th><th style="text-align:left">4</th><th style="text-align:left">5</th></tr></thead><tbody><tr><td style="text-align:left">Weight</td><td style="text-align:left">1</td><td style="text-align:left">3</td><td style="text-align:left">4</td><td style="text-align:left">5</td><td style="text-align:left">2</td></tr><tr><td style="text-align:left">Value</td><td style="text-align:left">5</td><td style="text-align:left">10</td><td style="text-align:left">18</td><td style="text-align:left">20</td><td style="text-align:left">7</td></tr></tbody></table></div><p>对于完全背包问题，我们依旧是做一个选择，装与不装第$i$件物品：</p><ul><li>不把物品$i$装入背包：<code>dp[i][j]=dp[i-1][j]</code></li><li>把物品$i$装入背包：<code>dp[i][j]=dp[i][j-w[i]] + v[i]</code></li></ul><p>(相比于0-1背包，唯一的区别就是<code>dp[i][j]=dp[i-1][j-w[i]] + v[i]</code></p><p>这里肯定有很多小伙伴一脸懵逼，不妨停下来多思考思考。我在写这个文章的时候在这里也停顿了很久，不知道如何言简意赅的来阐述这样的思路。</p><p>0-1背包当取走第$i$个物品时，需要找到第$i-1$个物品的最优解中，当取走第$i$个物品时，它也可以再次取走自己，所以只需要找到第$i$个物品的最优解即可。</p><p>因此，完全背包的状态转移方程为：$$<br>dp[i][j]=max(dp[i-1][j],\ dp[i][j-w[i]] + v[i])</p><h3 id="2-3-算法优化"><a href="#2-3-算法优化" class="headerlink" title="2.3 算法优化"></a>2.3 算法优化</h3><p>对于完全背包依旧可以优化空间复杂度，如同0-1背包一样将其压缩到一维数组。唯一的不同点在于完全背包的滚动数组在循环j的时候需要<strong>正向计算</strong>。从第一个物品往后推，这样就可以避免上一组数据被覆盖掉。（仔细想一想为什么）</p><p>优化后的部分代码如下：</p><pre class="language-python" data-language="python"><code class="language-python">dp <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span>w_max <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>dtype <span class="token operator">=</span> np<span class="token punctuation">.</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>w_max <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> j <span class="token operator">-</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">:</span>            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>dp<span class="token punctuation">[</span>j<span class="token operator">-</span>w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>一件很有趣的事情是，我们回过头来看<em>1.4节</em>的0-1背包优化算法，有没有发现他们长得十分相似呢？</p><p>此外，对于物品是无限的情况来说，如果有一个物品重量超过另一个物品然而价值又低于另一个物品，那么这样的物品就可以扔掉了。</p><p>我们只需要花费$O(N^2)$的时间复杂度进行一次搜索，或许可以排除掉大量没有价值的商品，这样可以极大的节约动态规划的时间开销和空间开销。</p><h3 id="2-4-另一种思路"><a href="#2-4-另一种思路" class="headerlink" title="2.4 另一种思路"></a>2.4 另一种思路</h3><p>我们回过头来看2.1节提到的思路，不妨在此基础上想一下，我们完全可以将完全背包转换成0-1背包。</p><p>虽然每件商品的数量是无限的，但是总量$W_{max}$是有限的。因此我们可以计算出每件商品最多可以装入<script type="math/tex">\frac{W_{max}}{W_i}</script>个，这样一来，我们就拥有了有限多个商品。</p><p>当然，这种思路根本谈不上优化，因为其完全没有降低时间复杂度和空间复杂度，只是提供了另一种思路罢了。</p><pre class="language-python" data-language="python"><code class="language-python">dp <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token punctuation">,</span>w_max <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dtype <span class="token operator">=</span> np<span class="token punctuation">.</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> w_max <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> w_max<span class="token operator">//</span>w<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> j <span class="token operator">-</span> k <span class="token operator">*</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">:</span>                dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> k <span class="token operator">*</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> k <span class="token operator">*</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>更高效的做法是使用二进制，即将每种物品的<strong>取的个数</strong>都用<script type="math/tex">V_i=\sum2^i\quad 0\leq i\leq\log_2V_i</script>来表示（这是一个常识，任何数字都可以分解成以$2$为指数的数组），如$13$，我们可以表示为$13= 2^0 + 2^2 +2^3$.</p><p>我们的目的就是要找出第i件物品要取几个好，那么与其用传统的方法每次取一个，然后询问取好呢还是不取好呢，不如用二进制的方法来代替。</p><p>举例说明，第一件物品最多可以取$13$个，假设取$7$个是最优解，那么我们第一次询问取$2^0$个该物品好不好，然后询问$2^1,2^2,2^3… …$，最终得到了 $2^0 +2^2+2^1=7$这样的一个结果，我们只需要询问$4$次而非$13$次，这是一个从$n$降到$\log n$级别的优化。</p><p>现在，小伙伴们可能已经彻底蒙圈了，或许能稍稍理解这样的思想，但是却怎么也写不出来，没关系，只要稍微理解以上的思路就好，我们先来看下一节。</p><h2 id="多重背包-bounded-knapsack-problem"><a href="#多重背包-bounded-knapsack-problem" class="headerlink" title="多重背包(bounded knapsack problem)"></a>多重背包(bounded knapsack problem)</h2><h3 id="3-1-问题描述"><a href="#3-1-问题描述" class="headerlink" title="3.1 问题描述"></a>3.1 问题描述</h3><p>多重背包与前面的完全背包的不同点在于每种物品是有限多个。</p><h3 id="3-2-问题分析"><a href="#3-2-问题分析" class="headerlink" title="3.2 问题分析"></a>3.2 问题分析</h3><p>我们在<em>2.4节</em>中提到，完全背包每种物品其实也是有上限的，即加和不应当超过背包的最大承载重量。那么，既然完全背包可以转化成0-1背包问题进行求解，多重背包自然也可以。</p><p>我们依旧是分为两个部分，装与不装。</p><ul><li>不把物品$i$装入背包：<code>dp[i][j]=dp[i-1][j]</code></li><li>把物品$i$装入背包：因为每种物品有数量限制，因此我们需要在限制数量中找到最大的价值，此时<code>dp[i][j]=dp[i-1][j-k*w[i]] + k*v[i-1]</code></li></ul><p>因此，状态转移方程为：$$<br>dp[i][j]=max(dp[i-1][j],\ dp[i][j-k<em>w[i]] + k</em>v[i])</p><p>$$</p><h3 id="3-3-python代码"><a href="#3-3-python代码" class="headerlink" title="3.3 python代码"></a>3.3 python代码</h3><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> npn <span class="token operator">=</span> <span class="token number">5</span>w_max <span class="token operator">=</span> <span class="token number">10</span>w <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>    <span class="token comment">#weight</span>v <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">18</span> <span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span> <span class="token comment">#value</span>maxx <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">#maximum number</span>dp <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token punctuation">,</span>w_max <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dtype <span class="token operator">=</span> np<span class="token punctuation">.</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> w_max <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">min</span><span class="token punctuation">(</span>w_max<span class="token operator">//</span>w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> maxx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> j <span class="token operator">-</span> k <span class="token operator">*</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">:</span>                dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>                dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> k <span class="token operator">*</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> k <span class="token operator">*</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>w_max<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#42</span></code></pre><h3 id="3-4-算法优化"><a href="#3-4-算法优化" class="headerlink" title="3.4 算法优化"></a>3.4 算法优化</h3><p>无论是完全背包还是多重背包，都存在着一种优化方式，就是2进制优化。</p>]]></content>
      
      
      <categories>
          
          <category> algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algorithm </tag>
            
            <tag> 背包问题 </tag>
            
            <tag> DP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BFS简介</title>
      <link href="/2022/03/10/BFS/"/>
      <url>/2022/03/10/BFS/</url>
      
        <content type="html"><![CDATA[<h2 id="BFS基本概念"><a href="#BFS基本概念" class="headerlink" title="BFS基本概念"></a>BFS基本概念</h2><p><strong>广度优先算法</strong>（Breadth-First-Search），简称BFS，是一种图形搜索演算法，最糟糕的情况算法时间复杂度为O(V+E)。简单的说，BFS是从根节点开始，沿着树的宽度遍历树的节点，如果发现目标，则演算终止。</p><h2 id="经典例题"><a href="#经典例题" class="headerlink" title="经典例题"></a><strong>经典例题</strong></h2><hr><h3 id="1-填涂颜色"><a href="#1-填涂颜色" class="headerlink" title="1. 填涂颜色"></a>1. 填涂颜色</h3><h4 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h4><p>由数字$0$组成的方阵中，有一任意形状闭合圈，闭合圈由数字$1$构成，围圈时只走上下左右$4$个方向。现要求把闭合圈内的所有空间都填写成$2$。例如：$6×6$的方阵$(n=6)$，涂色前和涂色后的方阵如下：</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span><span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span><span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span><span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span>-----------<span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">2</span> <span class="token number">1</span><span class="token number">1</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">2</span> <span class="token number">2</span> <span class="token number">1</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">2</span> <span class="token number">2</span> <span class="token number">2</span> <span class="token number">1</span><span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span></code></pre><h4 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h4><p>每组测试数据第一行一个整数$n(1≤n≤30)$</p><p>接下来$n$行，由$0$和$1$组成的$n×n$的方阵。</p><p>方阵内只有一个闭合圈，圈内至少有一个$0$。</p><h4 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h4><p>已经填好数字$2$的完整方阵。</p><h4 id="输入输出样例"><a href="#输入输出样例" class="headerlink" title="输入输出样例"></a>输入输出样例</h4><p><strong>输入 #1</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token number">6</span><span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span><span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span><span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span><span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span></code></pre><p><strong>输出 #1</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">2</span> <span class="token number">1</span><span class="token number">1</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">2</span> <span class="token number">2</span> <span class="token number">1</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">2</span> <span class="token number">2</span> <span class="token number">2</span> <span class="token number">1</span><span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span></code></pre><h4 id="说明-提示"><a href="#说明-提示" class="headerlink" title="说明/提示"></a>说明/提示</h4><p>$1≤n≤30$</p><h4 id="答案解析"><a href="#答案解析" class="headerlink" title="答案解析"></a>答案解析</h4><pre class="language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> num<span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> c<span class="token punctuation">,</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>k<span class="token punctuation">;</span>    cin<span class="token operator">>></span>c<span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>c<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>c<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cin<span class="token operator">>></span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>        <span class="token comment">//先认为所有的0都应该被修改,并且真的把它修改成了2;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>c<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token comment">//边角上的'2'其实本来不应该被修改的,那我们把他们改回去,改成0</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>num<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>num<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//然后来寻找与这些零相邻的'2',它们其实也是被改错了的</span>    <span class="token keyword">for</span><span class="token punctuation">(</span>k<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>k<span class="token operator">&lt;=</span><span class="token number">100</span><span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//广度优先搜索 阈值=100 (事实上不需要那么多)</span>    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>c<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>c<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">||</span><span class="token operator">!</span>num<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">||</span><span class="token operator">!</span>num<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">||</span><span class="token operator">!</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>     <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>c<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>c<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>        cout<span class="token operator">&lt;&lt;</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token punctuation">;</span>        cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><p>当然，本题仍可以用DFS来做：</p><pre class="language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdio></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>x <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> x <span class="token operator">&lt;=</span> n <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> y <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> y <span class="token operator">&lt;=</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">||</span> a<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span>         <span class="token keyword">return</span> <span class="token punctuation">;</span>        <span class="token keyword">else</span>        <span class="token punctuation">&#123;</span>        a<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>            <span class="token function">dfs</span><span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token function">dfs</span><span class="token punctuation">(</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span> i<span class="token punctuation">)</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span> j<span class="token punctuation">)</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span> i<span class="token punctuation">)</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span> j<span class="token punctuation">)</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span>     a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>     <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>     a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span> i<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span> j<span class="token punctuation">)</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><p>注意：dfs在先搜索的时候应该搜索到矩阵的外面一圈$(0， n + 1)$ 否则的话就会出现错误！(边缘处被涂色)</p><hr><h3 id="01迷宫"><a href="#01迷宫" class="headerlink" title="01迷宫"></a>01迷宫</h3><h4 id="题目描述-1"><a href="#题目描述-1" class="headerlink" title="题目描述"></a>题目描述</h4><p>有一个仅由数字$0$与$1$组成的$n×n$格迷宫。若你位于一格$0$上，那么你可以移动到相邻$4$格中的某一格$1$上，同样若你位于一格$1$上，那么你可以移动到相邻$4$格中的某一格$0$上。</p><p>你的任务是：对于给定的迷宫，询问从某一格开始能移动到多少个格子（包含自身）。</p><h4 id="输入格式-1"><a href="#输入格式-1" class="headerlink" title="输入格式"></a>输入格式</h4><p>第$1$行为两个正整数$n,m$。</p><p>下面$n$行，每行<em>$n$</em>个字符，字符只可能是$0$或者$1$，字符之间没有空格。</p><p>接下来$m$行，每行$2$个用空格分隔的正整数$i,j$，对应了迷宫中第$i$行第$j$列的一个格子，询问从这一格开始能移动到多少格。</p><h4 id="输出格式-1"><a href="#输出格式-1" class="headerlink" title="输出格式"></a>输出格式</h4><p>$m$行，对于每个询问输出相应答案。</p><h4 id="输入输出样例-1"><a href="#输入输出样例-1" class="headerlink" title="输入输出样例"></a>输入输出样例</h4><p><strong>输入 #1</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token number">2</span> <span class="token number">2</span>01<span class="token number">10</span><span class="token number">1</span> <span class="token number">1</span><span class="token number">2</span> <span class="token number">2</span></code></pre><p><strong>输出 #1</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token number">4</span><span class="token number">4</span></code></pre><h4 id="说明-提示-1"><a href="#说明-提示-1" class="headerlink" title="说明/提示"></a>说明/提示</h4><p>对于20%的数据，$n≤10$；</p><p>对于40%的数据，$n≤50$；</p><p>对于50%的数据，$m≤5$；</p><p>对于60%的数据，$n<em>≤100,</em>m≤100$；</p><p>对于100%的数据，$n<em>≤1000,</em>m≤100000$。</p><h4 id="答案解析-1"><a href="#答案解析-1" class="headerlink" title="答案解析"></a>答案解析</h4><p>BFS，70分代码：</p><pre class="language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstring></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">mg</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> x<span class="token punctuation">,</span>y<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>bool map<span class="token punctuation">[</span><span class="token number">1001</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1001</span><span class="token punctuation">]</span><span class="token punctuation">;</span>bool flag<span class="token punctuation">[</span><span class="token number">1001</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1001</span><span class="token punctuation">]</span><span class="token punctuation">;</span>mg q<span class="token punctuation">[</span><span class="token number">1000001</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> m<span class="token punctuation">,</span>n<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">bfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>n<span class="token operator">>></span>m<span class="token punctuation">;</span><span class="token keyword">char</span> ch<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>ch<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ch<span class="token operator">==</span><span class="token char">'1'</span><span class="token punctuation">)</span>map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>true<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> x<span class="token punctuation">,</span>y<span class="token punctuation">;</span>cin<span class="token operator">>></span>x<span class="token operator">>></span>y<span class="token punctuation">;</span><span class="token function">bfs</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">bfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> dx<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> dy<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> ans<span class="token punctuation">,</span>f<span class="token punctuation">,</span>r<span class="token punctuation">,</span>newx<span class="token punctuation">,</span>newy<span class="token punctuation">;</span>    ans<span class="token operator">=</span>f<span class="token operator">=</span>r<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>    q<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token operator">=</span>x<span class="token punctuation">;</span>    q<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">=</span>y<span class="token punctuation">;</span>    <span class="token function">memset</span><span class="token punctuation">(</span>flag<span class="token punctuation">,</span>false<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    flag<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">=</span>true<span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>f<span class="token operator">&lt;=</span>r<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>    newx<span class="token operator">=</span>q<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token operator">+</span>dx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    newy<span class="token operator">=</span>q<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">+</span>dy<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>newx<span class="token operator">></span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> newx<span class="token operator">&lt;=</span>n <span class="token operator">&amp;&amp;</span> newy<span class="token operator">></span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> newy<span class="token operator">&lt;=</span>n <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>flag<span class="token punctuation">[</span>newx<span class="token punctuation">]</span><span class="token punctuation">[</span>newy<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>map<span class="token punctuation">[</span>q<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>q<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> map<span class="token punctuation">[</span>newx<span class="token punctuation">]</span><span class="token punctuation">[</span>newy<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>q<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>q<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> map<span class="token punctuation">[</span>newx<span class="token punctuation">]</span><span class="token punctuation">[</span>newy<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>    r<span class="token operator">++</span><span class="token punctuation">;</span>    ans<span class="token operator">++</span><span class="token punctuation">;</span>    flag<span class="token punctuation">[</span>newx<span class="token punctuation">]</span><span class="token punctuation">[</span>newy<span class="token punctuation">]</span><span class="token operator">=</span>true<span class="token punctuation">;</span>    q<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token operator">=</span>newx<span class="token punctuation">;</span>    q<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">=</span>newy<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>f<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>cout<span class="token operator">&lt;&lt;</span>ans<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> </code></pre><p>有三个点TEL，所以对代码进行一定时间优化，学名叫记忆化搜索，以时间换空间，优化如下：</p><pre class="language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstring></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">mg</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> x<span class="token punctuation">,</span>y<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>bool map<span class="token punctuation">[</span><span class="token number">1001</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1001</span><span class="token punctuation">]</span><span class="token punctuation">;</span>bool flag<span class="token punctuation">[</span><span class="token number">1001</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1001</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">1001</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1001</span><span class="token punctuation">]</span><span class="token punctuation">;</span>mg q<span class="token punctuation">[</span><span class="token number">5000001</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> m<span class="token punctuation">,</span>n<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">bfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>n<span class="token operator">>></span>m<span class="token punctuation">;</span><span class="token keyword">char</span> ch<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>ch<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ch<span class="token operator">==</span><span class="token char">'1'</span><span class="token punctuation">)</span>map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>true<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> x<span class="token punctuation">,</span>y<span class="token punctuation">;</span>cin<span class="token operator">>></span>x<span class="token operator">>></span>y<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token function">bfs</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span>cout<span class="token operator">&lt;&lt;</span>a<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">bfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> dx<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> dy<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> ans<span class="token punctuation">,</span>f<span class="token punctuation">,</span>r<span class="token punctuation">,</span>newx<span class="token punctuation">,</span>newy<span class="token punctuation">;</span>    ans<span class="token operator">=</span>f<span class="token operator">=</span>r<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>    q<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token operator">=</span>x<span class="token punctuation">;</span>    q<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">=</span>y<span class="token punctuation">;</span>    <span class="token function">memset</span><span class="token punctuation">(</span>flag<span class="token punctuation">,</span>false<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    flag<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">=</span>true<span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>f<span class="token operator">&lt;=</span>r<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>    newx<span class="token operator">=</span>q<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token operator">+</span>dx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    newy<span class="token operator">=</span>q<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">+</span>dy<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>newx<span class="token operator">></span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> newx<span class="token operator">&lt;=</span>n <span class="token operator">&amp;&amp;</span> newy<span class="token operator">></span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> newy<span class="token operator">&lt;=</span>n <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>flag<span class="token punctuation">[</span>newx<span class="token punctuation">]</span><span class="token punctuation">[</span>newy<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>map<span class="token punctuation">[</span>q<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>q<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> map<span class="token punctuation">[</span>newx<span class="token punctuation">]</span><span class="token punctuation">[</span>newy<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>q<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>q<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> map<span class="token punctuation">[</span>newx<span class="token punctuation">]</span><span class="token punctuation">[</span>newy<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>    r<span class="token operator">++</span><span class="token punctuation">;</span>    ans<span class="token operator">++</span><span class="token punctuation">;</span>    flag<span class="token punctuation">[</span>newx<span class="token punctuation">]</span><span class="token punctuation">[</span>newy<span class="token punctuation">]</span><span class="token operator">=</span>true<span class="token punctuation">;</span>    q<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token operator">=</span>newx<span class="token punctuation">;</span>    q<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">=</span>newy<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>f<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>ans<span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>ans<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> </code></pre><p>当然，本题也可以用DFS来做，读者可以先自行写一写，不要看下面的答案：</p><pre class="language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstring></span></span><span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">;</span><span class="token keyword">int</span> ans<span class="token punctuation">[</span><span class="token number">100002</span><span class="token punctuation">]</span><span class="token punctuation">,</span>f<span class="token punctuation">[</span><span class="token number">1002</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1002</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token number">1002</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1002</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> r<span class="token punctuation">,</span><span class="token keyword">int</span> c<span class="token punctuation">,</span><span class="token keyword">int</span> z<span class="token punctuation">,</span><span class="token keyword">int</span> lll<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>r<span class="token operator">&lt;</span><span class="token number">0</span> <span class="token operator">||</span> r<span class="token operator">>=</span>n <span class="token operator">||</span> c<span class="token operator">&lt;</span><span class="token number">0</span> <span class="token operator">||</span> c<span class="token operator">>=</span>n <span class="token operator">||</span> f<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> s<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token operator">!=</span>z<span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    f<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">=</span>lll<span class="token punctuation">;</span>    ans<span class="token punctuation">[</span>lll<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token function">dfs</span><span class="token punctuation">(</span>r<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>c<span class="token punctuation">,</span><span class="token operator">!</span>z<span class="token punctuation">,</span>lll<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">dfs</span><span class="token punctuation">(</span>r<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>c<span class="token punctuation">,</span><span class="token operator">!</span>z<span class="token punctuation">,</span>lll<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">dfs</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span>c<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">!</span>z<span class="token punctuation">,</span>lll<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">dfs</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span>c<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">!</span>z<span class="token punctuation">,</span>lll<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">memset</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>x<span class="token punctuation">,</span><span class="token operator">&amp;</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>        x<span class="token operator">--</span><span class="token punctuation">;</span>        y<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>            <span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>s<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">else</span>             ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>ans<span class="token punctuation">[</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><script type="math/tex; mode=display">END</script>]]></content>
      
      
      <categories>
          
          <category> algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algorithm </tag>
            
            <tag> BFS </tag>
            
            <tag> DFS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DFS简介</title>
      <link href="/2022/03/10/DFS/"/>
      <url>/2022/03/10/DFS/</url>
      
        <content type="html"><![CDATA[<h2 id="DFS基本概念"><a href="#DFS基本概念" class="headerlink" title="DFS基本概念"></a>DFS基本概念</h2><p><strong>深度优先搜索算法</strong>（Depth First Search）：一种用于遍历或搜索树或图的算法。 沿着树的深度遍历树的节点，尽可能深的搜索树的分支。 属于盲目搜索,最糟糕的情况算法时间复杂度为$O(n^2)$。</p><hr><h2 id="经典例题"><a href="#经典例题" class="headerlink" title="经典例题"></a>经典例题</h2><h3 id="P1706全排列问题"><a href="#P1706全排列问题" class="headerlink" title="P1706全排列问题"></a>P1706全排列问题</h3><p>注：题目来源自<a href="https://www.luogu.com.cn/problem/P1706">洛谷</a>。</p><h4 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h4><p>输出自然数 1 到 n 所有不重复的排列，即 <em>n</em> 的全排列，要求所产生的任一数字序列中不允许出现重复的数字。</p><h4 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h4><p>一个整数 n。</p><h4 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h4><p>由1∼<em>n</em> 组成的所有不重复的数字序列，每行一个序列。</p><p>每个数字保留 5 个场宽。</p><h4 id="输入输出样例"><a href="#输入输出样例" class="headerlink" title="输入输出样例"></a>输入输出样例</h4><p><strong>输入 #1</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token number">3</span></code></pre><p><strong>输出 #1</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token number">1</span>    <span class="token number">2</span>    <span class="token number">3</span><span class="token number">1</span>    <span class="token number">3</span>    <span class="token number">2</span><span class="token number">2</span>    <span class="token number">1</span>    <span class="token number">3</span><span class="token number">2</span>    <span class="token number">3</span>    <span class="token number">1</span><span class="token number">3</span>    <span class="token number">1</span>    <span class="token number">2</span><span class="token number">3</span>    <span class="token number">2</span>    <span class="token number">1</span></code></pre><h4 id="说明-提示"><a href="#说明-提示" class="headerlink" title="说明/提示"></a>说明/提示</h4><p>$1≤n≤9$</p><h4 id="答案解析"><a href="#答案解析" class="headerlink" title="答案解析"></a>答案解析</h4><pre class="language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span>bool vis<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//标记数字是否出现</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//全排列数组</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">==</span> n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>                <span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"%5d"</span><span class="token punctuation">,</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            a<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>            <span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//递归</span>            vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//回溯</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    cin<span class="token operator">>></span>n<span class="token punctuation">;</span>     <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><hr><h3 id="P1238-走迷宫"><a href="#P1238-走迷宫" class="headerlink" title="P1238 走迷宫"></a>P1238 走迷宫</h3><p>注：题目来源<a href="https://www.luogu.com.cn/problem/P1238">洛谷</a>。</p><h4 id="题目描述-1"><a href="#题目描述-1" class="headerlink" title="题目描述"></a>题目描述</h4><p>有一个 $m\times n$ 格的迷宫(表示有 $m$ 行、$n$列)，其中有可走的也有不可走的，如果用 $1$ 表示可以走，$0$ 表示不可以走，文件读入这 $m\times n$ 个数据和起始点、结束点（起始点和结束点都是用两个数据来描述的，分别表示这个点的行号和列号）。现在要你编程找出所有可行的道路，要求所走的路中没有重复的点，走时只能是上下左右四个方向。如果一条路都不可行，则输出相应信息（用 $-1$ 表示无路）。</p><p>优先顺序：左上右下。<strong>数据保证随机生成。</strong></p><h4 id="输入格式-1"><a href="#输入格式-1" class="headerlink" title="输入格式"></a>输入格式</h4><p>第一行是两个数 $m,n(1&lt;m,n&lt;15)$，接下来是 $m$行 $n$ 列由$1$ 和$ 0$ 组成的数据，最后两行是起始点和结束点。</p><h4 id="输出格式-1"><a href="#输出格式-1" class="headerlink" title="输出格式"></a>输出格式</h4><p>所有可行的路径，描述一个点时用 $(x,y)$ 的形式，除开始点外，其他的都要用 <code>-&gt;</code> 表示方向。</p><p>如果没有一条可行的路则输出 $-1$。</p><h4 id="输入输出样例-1"><a href="#输入输出样例-1" class="headerlink" title="输入输出样例"></a>输入输出样例</h4><p><strong>输入 #1</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token number">5</span> <span class="token number">6</span><span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">1</span><span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span><span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span><span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span><span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span><span class="token number">1</span> <span class="token number">1</span><span class="token number">5</span> <span class="token number">6</span></code></pre><p><strong>输出 #1</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">(</span><span class="token number">1,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,2</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,6</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,2</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,6</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,2</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,6</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,2</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,6</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,2</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,6</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,2</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,6</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,2</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,6</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,2</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,6</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,2</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,6</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,2</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,6</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,2</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,6</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,1</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,2</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">2,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">3,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,3</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,4</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">4,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,5</span><span class="token punctuation">)</span>-<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5,6</span><span class="token punctuation">)</span></code></pre><h4 id="说明-提示-1"><a href="#说明-提示-1" class="headerlink" title="说明/提示"></a>说明/提示</h4><p>数据保证随机生成。事实上，如果 $n=m=14$ 且每个位置都是 $1$的话，有 $69450664761521361664274701548907358996488$ 种路径。</p><h4 id="答案解析-1"><a href="#答案解析-1" class="headerlink" title="答案解析"></a>答案解析</h4><pre class="language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">1001</span><span class="token punctuation">;</span>bool map<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>bool visited<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> output<span class="token punctuation">[</span>N <span class="token operator">*</span> N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//stack</span><span class="token keyword">int</span> pointer<span class="token punctuation">;</span>bool solution<span class="token punctuation">;</span><span class="token comment">//for example, m=5,n=6</span><span class="token comment">//(2,3)==>(2-1)*n+3=9</span><span class="token comment">//(5,6)==>(5-1)*n+6=30</span><span class="token comment">//therefore, (x,y)==>(x-1)*n+y</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> m<span class="token punctuation">,</span> n<span class="token punctuation">,</span> start_x<span class="token punctuation">,</span> start_y<span class="token punctuation">,</span> end_x<span class="token punctuation">,</span> end_y<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin <span class="token operator">>></span> m <span class="token operator">>></span> n<span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>cin <span class="token operator">>></span> map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>cin <span class="token operator">>></span> start_x <span class="token operator">>></span> start_y<span class="token punctuation">;</span>cin <span class="token operator">>></span> end_x <span class="token operator">>></span> end_y<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>start_x<span class="token punctuation">]</span><span class="token punctuation">[</span>start_y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"-1"</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>end_x<span class="token punctuation">]</span><span class="token punctuation">[</span>end_y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"-1"</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token function">dfs</span><span class="token punctuation">(</span>start_x<span class="token punctuation">,</span>start_y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>solution<span class="token punctuation">)</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"-1"</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token operator">&lt;</span><span class="token number">1</span> <span class="token operator">||</span> y<span class="token operator">&lt;</span><span class="token number">1</span> <span class="token operator">||</span> x<span class="token operator">></span>m <span class="token operator">||</span> y<span class="token operator">></span> n<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token operator">!</span>map<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">==</span> end_x <span class="token operator">&amp;&amp;</span> y <span class="token operator">==</span> end_y<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>solution <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pointer<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">if</span> <span class="token punctuation">(</span>output<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">%</span> n<span class="token punctuation">)</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"("</span> <span class="token operator">&lt;&lt;</span> output<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">/</span> n <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> output<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">%</span> n <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"->"</span><span class="token punctuation">;</span><span class="token keyword">else</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"("</span> <span class="token operator">&lt;&lt;</span> output<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">/</span> n  <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"->"</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"("</span> <span class="token operator">&lt;&lt;</span> end_x <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> end_y <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//++++++++++</span>visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> true<span class="token punctuation">;</span>output<span class="token punctuation">[</span>pointer<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> n <span class="token operator">+</span> y<span class="token punctuation">;</span>pointer<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//++++++++++</span><span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>x<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token function">dfs</span><span class="token punctuation">(</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token function">dfs</span><span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//----------</span>output<span class="token punctuation">[</span>pointer<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>pointer<span class="token operator">--</span><span class="token punctuation">;</span>visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> false<span class="token punctuation">;</span><span class="token comment">//----------</span><span class="token punctuation">&#125;</span></code></pre><hr><h3 id="连通块问题（floodfill）"><a href="#连通块问题（floodfill）" class="headerlink" title="连通块问题（floodfill）"></a>连通块问题（floodfill）</h3><p>注：我忘了在哪找的题了。。。</p><h4 id="题目描述-2"><a href="#题目描述-2" class="headerlink" title="题目描述"></a>题目描述</h4><p>一个$n \times m$的方格图，一些格子被涂成了黑色，在方格图中被标为$1$，白色格子标为$0$。问有多少个四连通的黑色格子连通块。四连通的黑色格子连通块指的是一片由黑色格子组成的区域，其中的每个黑色格子能通过四连通的走法（上下左右），只走黑色格子，到达该联通块中的其它黑色格子。</p><h4 id="输入输出样例-2"><a href="#输入输出样例-2" class="headerlink" title="输入输出样例"></a>输入输出样例</h4><p><strong>输入 #1</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token number">1</span> <span class="token number">1</span>*<span class="token number">3</span> <span class="token number">5</span>*@*@***@***@*@*<span class="token number">1</span> <span class="token number">8</span>@@****@*<span class="token number">5</span> <span class="token number">5</span>****@*@@*@*@**@@@@*@@@**@<span class="token number">0</span> <span class="token number">0</span></code></pre><p><strong>输出 #1</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token number">0</span><span class="token number">1</span><span class="token number">2</span><span class="token number">2</span></code></pre><h4 id="答案解析-2"><a href="#答案解析-2" class="headerlink" title="答案解析"></a>答案解析</h4><pre class="language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">maxn</span> <span class="token expression"><span class="token number">100</span><span class="token operator">+</span><span class="token number">5</span></span></span><span class="token keyword">char</span> pic<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//存图</span><span class="token keyword">int</span> m<span class="token punctuation">,</span>n<span class="token punctuation">,</span>idx<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> r<span class="token punctuation">,</span><span class="token keyword">int</span> c<span class="token punctuation">,</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>r<span class="token operator">&lt;</span><span class="token number">0</span><span class="token operator">||</span>r<span class="token operator">>=</span>m<span class="token operator">||</span>c<span class="token operator">&lt;</span><span class="token number">0</span><span class="token operator">||</span>c<span class="token operator">>=</span>n<span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token comment">//出界的格子</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>idx<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">></span><span class="token number">0</span><span class="token operator">||</span>pic<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token char">'@'</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token comment">//不是'@'或已经被访问过</span>    idx<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">=</span>id<span class="token punctuation">;</span><span class="token comment">//将点记录下来</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> dr<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>dr<span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">;</span>dr<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> dc<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>dc<span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">;</span>dc<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>dr<span class="token operator">!=</span><span class="token number">0</span><span class="token operator">||</span>dc<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span>                <span class="token function">dfs</span><span class="token punctuation">(</span>r<span class="token operator">+</span>dr<span class="token punctuation">,</span>c<span class="token operator">+</span>dc<span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//向四个方向搜索·</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">2</span> <span class="token operator">&amp;&amp;</span> m <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span>pic<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">memset</span><span class="token punctuation">(</span>idx<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>idx<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> cnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//每一次扫描所有为id的方格</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>idx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>pic<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'@'</span><span class="token punctuation">)</span>                    <span class="token function">dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span><span class="token operator">++</span>cnt<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>cnt<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><hr><script type="math/tex; mode=display">END</script>]]></content>
      
      
      <categories>
          
          <category> algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algorithm </tag>
            
            <tag> DFS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>图的基础知识</title>
      <link href="/2022/03/09/Graph-search/"/>
      <url>/2022/03/09/Graph-search/</url>
      
        <content type="html"><![CDATA[<h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><h3 id="图的定义和分类"><a href="#图的定义和分类" class="headerlink" title="图的定义和分类"></a>图的定义和分类</h3><ul><li><p><strong>图的定义</strong> 是一个顶点集合V和一个顶点间关系的集合E组成，记G=(V,E) V：顶点的有限非空集合。 E：顶点间关系的有限集合（边集）。</p></li><li><p><strong>无向图</strong> (graph)在G=(V,E)中，如果对于任意的结点a,b∈V，当(a,b)∈E时，必有(b,a)∈E（即关系R对称），如图二。</p><script type="math/tex; mode=display">V={1,2,3,4,5}\\ E={(1,2),(1,3),(1,4),(2,3),(2,5),(3,5),(4,5)}</script></li><li><p><strong>有向图</strong> (digraph)在G=(V,E)中，如果对于任意的结点a,b∈V，当(a,b)∈E时，(b,a)∈E未必成立，如图三。 </p><script type="math/tex; mode=display">V={1,2,3,4,5}\\E={<1,2>,<1,4>,<2,3>,<2,5>,<3,1>,<5,3>,<5,4>}</script></li></ul><p><img src="/2022/03/09/Graph-search/image-1.png" alt="img" loading="lazy"></p><ul><li><strong>带权图</strong> 一般的图边上没有数字，边仅表示两个顶点间相连接关系 ，如图四。</li><li><strong>连通图</strong>图中任意两个顶点都是连通的，称为连通图；否则为非连通图，如图五。</li></ul><p><img src="/2022/03/09/Graph-search/image-2.png" alt="img" loading="lazy"></p><h3 id="邻接矩阵和邻接表"><a href="#邻接矩阵和邻接表" class="headerlink" title="邻接矩阵和邻接表"></a>邻接矩阵和邻接表</h3><ul><li><strong>邻接矩阵</strong></li></ul><p>邻接矩阵的优势是方便定义，只需要一个二维矩阵就可以解决；缺点也显而易见，浪费空间。</p><p><img src="/2022/03/09/Graph-search/v2-9e2643ca5d96f86a391c36de4d3bd48d_720w.jpg" alt="img" loading="lazy"></p><ul><li><strong>邻接表</strong></li></ul><p>邻接表的优势自然就是尽可能的节省更多的空间，但是与之相对应的就是定义起来很麻烦，需要用链表或者vector来实现。</p><p><img src="/2022/03/09/Graph-search/v2-4a4d37df348f283649e2aecc74d959b5_720w.jpg" alt="img" loading="lazy"></p><p>*(图是网上抄的，看水印，如有侵权，请联系我)</p><h2 id="图的遍历-DFS-amp-amp-BFS"><a href="#图的遍历-DFS-amp-amp-BFS" class="headerlink" title="图的遍历(DFS&amp;&amp;BFS)"></a>图的遍历(DFS&amp;&amp;BFS)</h2><hr><p>好了，上面我们学习了图的概念以及如何存图，接下来就是重头戏了。</p><p>接下来便是如何实现图的搜索，首先我们来看这样一个有向图， 我们不妨设从1号顶点起始。</p><p><img src="/2022/03/09/Graph-search/image-3.png" alt="img" loading="lazy"></p><p>在搜索过程中，我们维护一个布尔数组bool visited[N+1]，这个数组用来表示每个顶点是不是已经遍历过了。</p><p>接下来，从1号开始进行DFS，遍历过的节点就在<code>visited[]</code>中标注。visited[i] == true表示顶点i已经遍历过了，visited[i] == false表示i还没有遍历过。DFS的具体方法可以用递归实现，直到所有节点都被遍历过结束。如果采用邻接矩阵，伪代码如下：</p><pre class="language-python" data-language="python"><code class="language-python">Visited<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span>DFS<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>Visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">=</span>true<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>N<span class="token punctuation">;</span>i<span class="token operator">+</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">if</span><span class="token punctuation">(</span>!Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;</span><span class="token operator">&amp;</span> <span class="token builtin">map</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>DFS<span class="token punctuation">(</span>i<span class="token punctuation">)</span></code></pre><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><hr><h3 id="DFS递归实现"><a href="#DFS递归实现" class="headerlink" title="DFS递归实现"></a>DFS递归实现</h3><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#define N 5using namespace std;int maze[N][N] &#x3D; &#123;    &#123; 0, 1, 1, 0, 0 &#125;,    &#123; 0, 0, 1, 0, 1 &#125;,    &#123; 0, 0, 1, 0, 0 &#125;,    &#123; 1, 1, 0, 0, 1 &#125;,    &#123; 0, 0, 1, 0, 0 &#125;&#125;;bool visited[N + 1];void DFS(int start)&#123;    visited[start] &#x3D; true;    for (int i &#x3D; 1; i &lt;&#x3D; N; i++)        if (!visited[i] &amp;&amp; maze[start - 1][i - 1] &#x3D;&#x3D; 1)            DFS(i);    cout &lt;&lt; start &lt;&lt; &quot; &quot;;&#125;int main()&#123;    for (int i &#x3D; 1; i &lt;&#x3D; N; i++)    &#123;        if (visited[i])            continue;        DFS(i);    &#125;    return 0;&#125;</code></pre><h3 id="DFS非递归实现"><a href="#DFS非递归实现" class="headerlink" title="DFS非递归实现"></a>DFS非递归实现</h3><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;stack&gt;#define N 5using namespace std;int maze[N][N] &#x3D; &#123;    &#123; 0, 1, 1, 0, 0 &#125;,    &#123; 0, 0, 1, 0, 1 &#125;,    &#123; 0, 0, 1, 0, 0 &#125;,    &#123; 1, 1, 0, 0, 1 &#125;,    &#123; 0, 0, 1, 0, 0 &#125;&#125;;bool visited[N + 1];void DFS(int start)&#123;    stack&lt;int&gt; s;    s.push(start);    visited[start] &#x3D; true;    bool is_push &#x3D; false;    while (!s.empty())    &#123;        is_push &#x3D; false;        int v &#x3D; s.top();        for (int i &#x3D; 1; i &lt;&#x3D; N; i++)        &#123;            if (maze[v - 1][i - 1] &#x3D;&#x3D; 1 &amp;&amp; !visited[i])            &#123;                visited[i] &#x3D; true;                s.push(i);                is_push &#x3D; true;                break;            &#125;        &#125;        if (!is_push)        &#123;            cout &lt;&lt; v &lt;&lt; &quot; &quot;;            s.pop();        &#125;    &#125;&#125;int main()&#123;    for (int i &#x3D; 1; i &lt;&#x3D; N; i++)    &#123;        if (visited[i])            continue;        DFS(i);    &#125;    return 0;&#125;</code></pre><h3 id="BFS实现"><a href="#BFS实现" class="headerlink" title="BFS实现"></a>BFS实现</h3><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;queue&gt;#define N 5using namespace std;int maze[N][N] &#x3D; &#123;    &#123; 0, 1, 1, 0, 0 &#125;,    &#123; 0, 0, 1, 1, 0 &#125;,    &#123; 0, 1, 1, 1, 0 &#125;,    &#123; 1, 0, 0, 0, 0 &#125;,    &#123; 0, 0, 1, 1, 0 &#125;&#125;;bool visited[N + 1];void BFS(int start)&#123;    queue&lt;int&gt; Q;    Q.push(start);    visited[start] &#x3D; true;    while (!Q.empty())    &#123;        int front &#x3D; Q.front();        cout &lt;&lt; front &lt;&lt; &quot; &quot;;        Q.pop();        for (int i &#x3D; 1; i &lt;&#x3D; N; i++)            if (!visited[i] &amp;&amp; maze[front - 1][i - 1] &#x3D;&#x3D; 1)            &#123;                visited[i] &#x3D; true;                Q.push(i);            &#125;    &#125;&#125;int main()&#123;    for (int i &#x3D; 1; i &lt;&#x3D; N; i++)    &#123;        if (visited[i])            continue;        BFS(i);    &#125;    return 0;&#125;</code></pre>]]></content>
      
      
      <categories>
          
          <category> algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algorithm </tag>
            
            <tag> BFS </tag>
            
            <tag> DFS </tag>
            
            <tag> Graph </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo多电脑同步指南</title>
      <link href="/2022/03/08/Hexo-synchronization/"/>
      <url>/2022/03/08/Hexo-synchronization/</url>
      
        <content type="html"><![CDATA[<h2 id="如何实现同步"><a href="#如何实现同步" class="headerlink" title="如何实现同步"></a>如何实现同步</h2><p>Hexo的同步本质上很简单，使用<code>git</code>命令push一下，然后在另一台电脑pull一下就OK。但是我在实际的同步过程中却遇到了各种的报错，这篇文章同样也记录一下我遇到的问题，也为了后期我再次换电脑，或者再次遇到奇奇怪怪的报错做参考。</p><p>我现在在家里使用<strong>台式电脑</strong>，在外使用轻薄的商务本（以下简称<strong>笔记本</strong>），所以就以此为例，介绍如何实现两个设备间的同步问题。</p><p>首先，我的本地blog储存在台式电脑上面，我们需要将这个blog上传到GitHub上，准确的说是你的GitHub的分支上。我们的目的就是在你的GitHub仓库建一个分支，然后把这个分支当作一个中介，存储我们的源文件，当在A电脑上修改过后直接上传（push）到分支上，然后在B电脑上下载（pull）该分支的所有文件，这样就实现了多设备同步。</p><h3 id="首次从台式电脑上传本地文件到GitHub"><a href="#首次从台式电脑上传本地文件到GitHub" class="headerlink" title="首次从台式电脑上传本地文件到GitHub"></a>首次从台式电脑上传本地文件到GitHub</h3><p>*注意所有命令都要在Hexo项目的目录下执行。</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> init <span class="token comment"># 首先要在台式电脑上初始化git</span><span class="token function">git</span> remote <span class="token function">add</span> origin https://github.com/username/username.github.io.git <span class="token comment"># 添加Github上的仓库地址</span><span class="token comment"># username是你的GitHub的用户名</span><span class="token function">git</span> checkout -b branch_name <span class="token comment"># 新建分支并切换到新建的分支</span><span class="token comment"># branch_name随便起名字，不过最好简单一点，比如Hexo</span><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span> <span class="token comment"># 添加所有本地文件到本地的git</span><span class="token function">git</span> commit -m <span class="token string">"This is the first time to syn!"</span> <span class="token comment"># 提交备注</span><span class="token comment"># “这里的内容随便写，不过这句代码一定不要省略，后面会出问题！”</span><span class="token function">git</span> push origin branch_name <span class="token comment"># 本地文件上传到hexo分支</span></code></pre><h3 id="首次从笔记本下载工程文件"><a href="#首次从笔记本下载工程文件" class="headerlink" title="首次从笔记本下载工程文件"></a>首次从笔记本下载工程文件</h3><p>*注意另一台电脑上要部署好所有的环境，如git，Nodejs，SSH等，详情参考：<a href="https://tonylsx611.github.io/2022/02/24/Hexo_creation/">Hexo 网站搭建指南</a></p><p>*注意所有命令都要在Hexo项目的目录下执行，没有目录的话找个地方新建一个。</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone -b branch_name https://github.com/username/username.github.io<span class="token comment"># 克隆分支到本地的博客文件夹</span><span class="token function">sudo</span> <span class="token function">npm</span> <span class="token function">install</span> -g hexo-cli <span class="token comment"># install hexo</span><span class="token function">sudo</span> <span class="token function">npm</span> <span class="token function">install</span> <span class="token comment"># 安装依赖库</span><span class="token function">sudo</span> <span class="token function">npm</span> <span class="token function">install</span> hexo-deployer-git <span class="token comment"># git部署相关配置</span></code></pre><h3 id="首次用笔记本更新文件"><a href="#首次用笔记本更新文件" class="headerlink" title="首次用笔记本更新文件"></a>首次用笔记本更新文件</h3><pre class="language-bash" data-language="bash"><code class="language-bash">hexo clean <span class="token operator">&amp;&amp;</span> hexo d <span class="token operator">&amp;&amp;</span> hexo g <span class="token operator">&amp;&amp;</span> hexo s <span class="token comment">#更新Github中的master文件</span><span class="token comment"># 如果上面这部成功部署，就可以更新分支文件了</span><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span><span class="token function">git</span> commit -m <span class="token string">"..."</span><span class="token function">git</span> push origin branch_name</code></pre><h3 id="返回台式电脑进行编辑"><a href="#返回台式电脑进行编辑" class="headerlink" title="返回台式电脑进行编辑"></a>返回台式电脑进行编辑</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> pull origin branch_name <span class="token comment"># 从Github同步数据到台式电脑</span><span class="token comment"># 或者直接git pull也可以</span><span class="token comment"># 修改或者更新文章。。。</span>hexo clean <span class="token operator">&amp;&amp;</span> hexo d <span class="token operator">&amp;&amp;</span> hexo g <span class="token operator">&amp;&amp;</span> hexo s <span class="token comment">#更新Github中的master文件</span><span class="token comment"># 如果上面这部成功部署，就可以更新分支文件了</span><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span><span class="token function">git</span> commit -m <span class="token string">"..."</span><span class="token function">git</span> push origin branch_name<span class="token comment">#有没有发现，跟上面的代码一样了，没错，这样就形成了循环！</span></code></pre><p>完成首次同步之后的任何设备都可以使用上面的代码进行同步和更新。</p><h2 id="同步过程中遇到的问题"><a href="#同步过程中遇到的问题" class="headerlink" title="同步过程中遇到的问题"></a>同步过程中遇到的问题</h2><h3 id="git-pull文件冲突报错"><a href="#git-pull文件冲突报错" class="headerlink" title="git pull文件冲突报错"></a>git pull文件冲突报错</h3><p><img src="/2022/03/08/Hexo-synchronization/Screenshot%202022-03-08%20161552.png" alt="Screenshot 2022-03-08 161552" loading="lazy"></p><p>报错信息：</p><p><code>error: Your local changes to the following files would be overwritten by merge</code></p><p>报错原因：</p><p>在同步的时候出现两个相同文件名内容不同的文件，导致冲突；比如笔记本修改了之前的某个文章，在台式机<code>pull</code> 的时候就会产生这样的错误。</p><p>解决方法：</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> stash <span class="token comment"># 备份工作区内容</span><span class="token function">git</span> pull origin branch_name <span class="token comment"># 下载分支内容</span><span class="token function">git</span> stash pop <span class="token comment"># 恢复工作区内容</span></code></pre><h3 id="Clone后首次部署报错"><a href="#Clone后首次部署报错" class="headerlink" title="Clone后首次部署报错"></a>Clone后首次部署报错</h3><p><img src="/2022/03/08/Hexo-synchronization/image-20220310172557250.png" alt="image-20220310172557250" loading="lazy"></p><p>报错信息：</p><pre class="language-bash" data-language="bash"><code class="language-bash">fatal: <span class="token keyword">in</span> unpopulated submodule <span class="token string">'.deploy.git'</span>FATAL:<span class="token punctuation">&#123;</span>error: Error: Spawn failed<span class="token punctuation">..</span>.<span class="token punctuation">&#125;</span></code></pre><p>报错原因：</p><p>克隆远程分支到本地电脑的时候，把<code>.deploy.git</code>也一并克隆了过来，这个文件夹是部署到master的临时缓存文件夹，是另一个电脑部署用的，因此会产生冲突。</p><p>解决方法：</p><p>删掉本地的<code>.deploy.git</code>文件夹，重新部署。如果还有问题，可能是你开了多个命令行，多个terminal会产生冲突，全部关掉，重开一个来部署。</p><h3 id="本地未关联远程分支报错"><a href="#本地未关联远程分支报错" class="headerlink" title="本地未关联远程分支报错"></a>本地未关联远程分支报错</h3><p>报错信息：</p><pre class="language-bash" data-language="bash"><code class="language-bash">There is no tracking information <span class="token keyword">for</span> the current branch.Please specify <span class="token function">which</span> branch you want to merge with.See git-pull<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">for</span> details.<span class="token function">git</span> pull <span class="token operator">&lt;</span>remote<span class="token operator">></span> <span class="token operator">&lt;</span>branch<span class="token operator">></span>If you wish to <span class="token builtin class-name">set</span> tracking information <span class="token keyword">for</span> this branch you can <span class="token keyword">do</span> so with:<span class="token function">git</span> branch --set-upstream-to<span class="token operator">=</span>origin/<span class="token operator">&lt;</span>branch<span class="token operator">></span> release</code></pre><p>报错原因：</p><p>在建立新的本地分支后，未与GitHub分支关联，通常出现在首次添加新的电脑时报错。</p><p>解决方法：</p><p>他不是说的明明白白的嘛，你就按照他的提示加一行代码，关联上就完了！这里的<code>remote_branch</code>就是GitHub上的远程分支，<code>your branch</code>就是你的本地分支。</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> branch --set-upstream-to<span class="token operator">=</span>origin/remote_branch your_branch</code></pre><h3 id="变更远程分支名字导致的报错"><a href="#变更远程分支名字导致的报错" class="headerlink" title="变更远程分支名字导致的报错"></a>变更远程分支名字导致的报错</h3><p>报错信息：</p><pre class="language-bash" data-language="bash"><code class="language-bash">error: src refspec master does not match any.error: failed to push some refs to <span class="token string">'git@github.com:username/username.github.io'</span></code></pre><p>报错原因：</p><p>这个报错原因就很多了，可能是忘记在<code>git add .</code>后面加<code>commit</code>了，也可能是没有输入正确的分支名，也可能是别的。不过如果你玩了一定时间的hexo了，觉得刚开始设置的那个远程分支名太复杂了，然后手欠的改了名字，那么恭喜你，和我一样。</p><p>解决方法：</p><p>我尝试了网上各种的解决办法，由简入繁，你可以试着删掉<code>.git</code>文件夹（这是个隐藏的文件夹），然后重新上传到远程分支，看看可不可以解决问题，反正我是没解决掉。</p><p>最后我觉得最简单也是最有效的方法是把整个blog的文件夹复制一份做备份，然后全部删掉，重新clone，解决了所有问题，也不算麻烦。</p><hr><p>注：本文部分内容参考自<a href="https://cloud.tencent.com/developer/article/1046404">Hexo博客的安装部署及多电脑同步</a>，如有侵权，请联系我。</p>]]></content>
      
      
      <categories>
          
          <category> Hexo搭建 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>R2S家庭组网实操</title>
      <link href="/2022/02/26/R2S_build/"/>
      <url>/2022/02/26/R2S_build/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文授权转载自<a href="https://www.bytedance.fit/?p=1051">R2S家庭组网实操 – Orange Tien</a>，作者：Orange Tien，在此基础上略加修改，<del>并不会定期更新</del>。</p><p>本文主要介绍R2S的基本使用方法，目前本人（Tony）也在原作者（Orange Tien）的怂恿下在两个地方分别搭建了两个R2S，看起来很简单，其实不是一帆风顺；因此也会把实际组网中遇到的问题列到最后供大家参考。</p><h2 id="确定所需物理设备"><a href="#确定所需物理设备" class="headerlink" title="确定所需物理设备"></a>确定所需物理设备</h2><ul><li>一台R2S软路由以及它的电源线</li><li>两根用不着太长的网线一张TF卡（作为R2S的系统盘）以及一个读写TF卡的读卡器</li><li>一台可以插网线的电脑</li><li>交换机（可选）</li><li>插排（某些时候插座不够用）</li></ul><h2 id="烧录OpenWrt系统"><a href="#烧录OpenWrt系统" class="headerlink" title="烧录OpenWrt系统"></a>烧录OpenWrt系统</h2><p>烧录软件：<a href="https://www.balena.io/etcher/">BalenaEtcher</a></p><p>软路由系统：</p><p><a href="https://bigdongdong.cowtransfer.com/s/a3420546d30343">OpenWrt-R2S-dongdong</a></p><p><a href="https://bigdongdong.cowtransfer.com/s/9a349ee597aa4f">OpenWrt-R2S-esir</a></p><p>第一个链接比较新，界面比较好看一些，推荐选择这个下载；第二个系统是eSir大人写的2020版本，已经很旧了；<del>奈何暂时没找到别的系统</del>，如果自行找到更好的系统也可以不用这俩链接。注意系统是要支持Arm架构的，因为Openwrt不是x86架构下的产物。</p><h2 id="开始烧录系统至TF卡"><a href="#开始烧录系统至TF卡" class="headerlink" title="开始烧录系统至TF卡"></a>开始烧录系统至TF卡</h2><p>打开BalenaEtcher，选择Flash from file，然后将OpenWrt系统烧录到TF卡中即可。</p><p><img src="/2022/02/26/R2S_build/image-1.png" alt="img" loading="lazy"></p><p>注意：选择文件时只选择镜像文件，不要把那些七七八八的文档说明也选进去。选择<code>.gz</code>(<code>.img</code>)文件来烧录即可，烧录完成后直接拔掉读卡器；系统会提示格式化，此时千万<strong>不要</strong>格式化！！！（<del>否则，就重来一遍吧</del>）</p><h2 id="登入R2S后台"><a href="#登入R2S后台" class="headerlink" title="登入R2S后台"></a>登入R2S后台</h2><p>把烧录好固件的TF卡插入R2S，然后给它插上电源，WAN口可以不接，将R2S的LAN口连接电脑的网口，根据所刷入的固件（软路由系统）的不同来决定后台地址，一般来说，软路由后台是<code>192.168.X.1</code> ，本文的系统后台是<code>192.168.22.1</code>，所以说我们在电脑浏览器内输入<code>192.168.5.1</code>(<code>192.168.22.1</code>)以进入后台。后台账号是root，默认密码基本都是password（若下载本文的系统，密码则为空），具体操作链接里面写的很清楚。</p><h2 id="拨号或者DHCP客户端"><a href="#拨号或者DHCP客户端" class="headerlink" title="拨号或者DHCP客户端"></a>拨号或者DHCP客户端</h2><h3 id="光猫拨号"><a href="#光猫拨号" class="headerlink" title="光猫拨号"></a>光猫拨号</h3><p>如果你家里的组网方式是通过光猫拨号（通常都是光猫拨号），那么设置方法如下：</p><p>选择 网络-接口， 然后选择 修改WAN口设置</p><p><img src="/2022/02/26/R2S_build/image-2-1024x507.png" alt="img" loading="lazy"></p><p>将WAN口设置成DHCP客户端，然后保存应用即可，此外无须做其他任何设置。</p><p><img src="/2022/02/26/R2S_build/image-3-1024x485.png" alt="img" loading="lazy"></p><h3 id="R2S拨号"><a href="#R2S拨号" class="headerlink" title="R2S拨号"></a>R2S拨号</h3><p>如果你的光猫是桥接，那么就由路由器来拨号（通常来说，哪个网络设备配置更好，就誰来拨号，由于R2S的稳定性远不如光猫，所以这里选择光猫拨号更好），设置方法如下：</p><p><img src="/2022/02/26/R2S_build/image-5.png" alt="img" loading="lazy"></p><p>同样，选择修改WAN口，协议设置成PPPoE, PAP/CHAP，账号密码就是光猫的账号密码。比如电信宽带就是以<code>@163.gd</code>结尾的，密码如果忘记的话直接拨打10000（10086）重置就好，省时省力。</p><p><img src="/2022/02/26/R2S_build/image-2-1024x507.png" alt="img" loading="lazy"></p><p>接下来，需要用超级管理员账号登陆到光猫的IP中（<code>192.168.1.1</code>）,各大运营商的超级管理员账号和密码可以自行搜索。选择 网络-协议，然后设置成DHCP客户端。</p><h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>用什么拨号，什么就选择PPPoE，然后其它设备就都设置成DHCP。</p><p>用光猫拨号，光猫的设置里面就选择PPPoE，软路由以及其它路由器就选择DHCP客户端；</p><p>用R2S拨号，光猫和其它路由设备的设置里面就选择DHCP客户端，软路由选择PPPoE。</p><h2 id="各设备接入网络"><a href="#各设备接入网络" class="headerlink" title="各设备接入网络"></a>各设备接入网络</h2><p>将软路由的WAN口与光猫的千兆口相连，然后断开软路由的LAN口与电脑网口的连接，此时软路由的LAN口根据各人组网要求的不同选择接不同的设备，可以接交换机，也可以接一台路由器（路由器设置为有线中继模式，也就是无线AP模式）</p><p>如果家中设备比较多，或者很多屋子都需要连网线的话，可以买一个最便宜的千兆交换机放到弱电箱中，然后吧R2S接到交换机与光猫中间，这样就可以实现整个局域网都接入到软路由中来。（我来草草的画个图）</p><p><img src="/2022/02/26/R2S_build/image-20220305212846426.png" alt="image-20220305212846426" loading="lazy"></p><h2 id="利用插件设置科学上网"><a href="#利用插件设置科学上网" class="headerlink" title="利用插件设置科学上网"></a>利用插件设置科学上网</h2><p>根据前面的步骤，如果你的设备能够正常访问网络了，就可以开始探索OpenWrt的各类插件了。关于科学上网，常见的插件有PassWall, ShadowScoksR++, OpenClash，由于OpenClash具备强大的分流策略机制（根据你访问的域名或者IP的不同决定走不同的节点），我们在此以OpenCalsh为例设置科学上网</p><p><img src="/2022/02/26/R2S_build/image-7.png" alt="img" loading="lazy"></p><p>首先，在服务菜单中找到OpenClash，然后选择配置文件订阅，选择添加配置文件</p><p><img src="/2022/02/26/R2S_build/image-8.png" alt="img" loading="lazy"></p><p>配置文件名随便写，用途是给用户自己区分的，订阅地址填上机场给你的订阅地址，其余地方无需设置，直接应用并保存即可。然后回到OpenClash主页，配置文件区域发送了变化。</p><p><img src="/2022/02/26/R2S_build/image-9-1024x194.png" alt="img" loading="lazy"></p><p>最后点击左下角的启动按钮，等待服务器上线运行即可。</p><p><img src="/2022/02/26/R2S_build/image-10.png" alt="img" loading="lazy"></p><p>如果你设置后无法正常科学上网，原因是有很多的，需要你自己慢慢排查。</p><h2 id="更多（原作者的话）"><a href="#更多（原作者的话）" class="headerlink" title="更多（原作者的话）"></a>更多（原作者的话）</h2><p><a href="https://wiki.friendlyarm.com/wiki/index.php/NanoPi_R2S/zh">NanoPi R2S WIKI</a></p><p>上面的链接是R2S的WIKI书，上面详细记录了R2S的配置以及实际测速情况，也有如何编译系统等教程。</p><p>个人使用R2S两年，从大一到大三都在用这个，感觉就是到千兆不太行，500M是瓶颈了，然后连久了没那么稳定，官网手册上宣传它是又稳定又能达到千兆的，这个听听就好，R2S本来是适合入门的，但是现在价格炒的太高了，没这个必要去买它，目前有很多更具有性价比的软路由可供选择。</p><p>此外向大家推荐软路由界的大佬: <a href="https://youtube.com/c/jackstone">JackStone的Youtube主页</a> ，人称老白，做了很多小主机的视频，如果想选购更具性价比的设备，可以看他的合集，比如2021软路由选购建议这些。</p><h2 id="组网时遇到过的问题（我的话）"><a href="#组网时遇到过的问题（我的话）" class="headerlink" title="组网时遇到过的问题（我的话）"></a>组网时遇到过的问题（我的话）</h2><ol><li>组网的过程中可能出现无法自动分配IP地址的问题，比如说小米的路由器默认会分配<code>192.168.31.XXX</code>；如果你会手动配置的话可以试试，不过最简单的办法就是等，去洗个澡回来就好了。如果还没好，那么可以考虑RESET一下路由器。</li><li>OpenClash插件在首次启动的时候，可能会启动失败，他会提示需要你选择编译架构，按照他的提示，选择Arm-v8架构即可。</li><li>网线通常插上马上就会亮灯，5s左右就能ping通，不过不要太相信科学。<del>我有一次ping了10多分钟。</del>真的，不通的话不一定是没插紧，也不一定是插错了，<strong>很有可能是因为你没给我微信或者支付宝赞赏</strong>。</li><li>R2S是很基础的一款软路由，稳定性可能不会太好，不过最有可能导致网络不稳定的还是机场的选择，如果选择廉价机场的话，要做好不知道什么时候突然断网10分钟的准备。</li><li>计算机网络这门学科是玄学的一个分支。</li></ol>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> R2S </tag>
            
            <tag> Computer Network </tag>
            
            <tag> 软路由 </tag>
            
            <tag> 科学上网 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>链式二叉树简介</title>
      <link href="/2022/02/25/binary_tree_1/"/>
      <url>/2022/02/25/binary_tree_1/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>人为什么难做选择？</p></blockquote><p><strong>选择意味着放弃</strong></p><p>你选择一方，也就意味着放弃了另一方。摆在你面前的选择项越接近，你的选择就会越困难，因为放弃其中任何一个选择项都不容易。如果摆在你面前的选择项对比明显，那么选择起来就会轻松许多，大家几乎都会毫不犹豫的选择“好”的选择项，放弃掉“差”的选择项。</p><p><strong>选择永远都不是完美的</strong></p><p>选择永远都不可能十全十美，只可能满足尽量多的侧重点。选择的时候想满足越多的侧重点，可能就会越难做出选择。所以在选择上不要过于追求完美。</p><p>警惕<strong>逃避性选择</strong>——不知道自己要去哪儿，还要选择离开。</p><p>有一种选择是对现状不满，想逃离这种现状，但是却不知道去哪里。举个例子，可能目前的公司有各种问题，比如开发流程不规范等，如果因为这些问题离开，可能就会从一个坑跳到另外一个更大的坑。当决定离开的时候，一定是自己有明确的目标，很清楚自己想要什么。</p><h2 id="二叉树的定义"><a href="#二叉树的定义" class="headerlink" title="二叉树的定义"></a>二叉树的定义</h2><p>二叉树要么为空，要么由根节点（root），左子树（left subtree）和右子树（right subtree）组成，而且左子树和右子树分别是一棵二叉树。说白了就是，二叉树的任何一个节点，<strong>有且只能有0，1，2棵子树</strong>。</p><p><img src="/2022/02/25/binary_tree_1/2-1Q226195I0M1.gif" alt="二叉树示意图" loading="lazy"></p><h2 id="二叉树的实现"><a href="#二叉树的实现" class="headerlink" title="二叉树的实现"></a>二叉树的实现</h2><p>二叉树的实现方式大致分两种，一种是以数组形式储存，另一种是以链表形式储存。以数组形式储存的好处是实现起来极其便捷，但是数组只能储存完全二叉树，就是二叉树的任何一个父节点（除了叶子节点）都要有两颗子树，如图所示：</p><p><img src="/2022/02/25/binary_tree_1/2-1Q226195949495.gif" alt="满二叉树示意图" loading="lazy"></p><p>我们这里使用链表的方法维护一个二叉树，一个是这样能够实现更宽泛的二叉树形式，减少内存开销；另外以链表形式实现二叉树可以让我们更加深入理解二叉树的本质。</p><p><img src="/2022/02/25/binary_tree_1/2-1Q22R035341H.gif" alt="二叉树链式存储结构示意图" loading="lazy"></p><h3 id="头文件"><a href="#头文件" class="headerlink" title="头文件"></a>头文件</h3><pre class="language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">BST_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">BST_H</span></span><span class="token keyword">struct</span> <span class="token class-name">TreeNode</span><span class="token punctuation">&#123;</span>ElementType Node<span class="token punctuation">;</span>TreeNode<span class="token operator">*</span> L_Child<span class="token punctuation">;</span>TreeNode<span class="token operator">*</span> R_Child<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">int</span> ElementType<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">TreeNode</span><span class="token operator">*</span> PtrToNode<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">TreeNode</span><span class="token operator">*</span> Position<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">TreeNode</span><span class="token operator">*</span> SearchTree<span class="token punctuation">;</span>SearchTree <span class="token function">MakeEmpty</span><span class="token punctuation">(</span>SearchTree T<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//initialize</span>Position <span class="token function">Find</span><span class="token punctuation">(</span>ElementType X<span class="token punctuation">,</span> SearchTree T<span class="token punctuation">)</span><span class="token punctuation">;</span>Position <span class="token function">FindMin</span><span class="token punctuation">(</span>SearchTree T<span class="token punctuation">)</span><span class="token punctuation">;</span>Position <span class="token function">FindMax</span><span class="token punctuation">(</span>SearchTree T<span class="token punctuation">)</span><span class="token punctuation">;</span>SearchTree <span class="token function">Insert</span><span class="token punctuation">(</span>SearchTree T<span class="token punctuation">,</span> ElementType X<span class="token punctuation">)</span><span class="token punctuation">;</span>SearchTree <span class="token function">Delete</span><span class="token punctuation">(</span>SearchTree T<span class="token punctuation">,</span> ElementType X<span class="token punctuation">)</span><span class="token punctuation">;</span>ElementType <span class="token function">Retrieve</span><span class="token punctuation">(</span>Position P<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Output</span><span class="token keyword">void</span> <span class="token function">PreOrderTraverse</span><span class="token punctuation">(</span>SearchTree T<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">InOrderTraverse</span><span class="token punctuation">(</span>SearchTree T<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">PostOrderTraverse</span><span class="token punctuation">(</span>SearchTree T<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></code></pre><h3 id="创建二叉树"><a href="#创建二叉树" class="headerlink" title="创建二叉树"></a>创建二叉树</h3><pre class="language-c" data-language="c"><code class="language-c">SearchTree <span class="token function">MakeEmpty</span><span class="token punctuation">(</span>SearchTree T<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>T <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">MakeEmpty</span><span class="token punctuation">(</span>T<span class="token operator">-></span>L_Child<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MakeEmpty</span><span class="token punctuation">(</span>T<span class="token operator">-></span>R_Child<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">free</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="二叉树查找元素"><a href="#二叉树查找元素" class="headerlink" title="二叉树查找元素"></a>二叉树查找元素</h3><pre class="language-c" data-language="c"><code class="language-c">Position <span class="token function">Find</span><span class="token punctuation">(</span>ElementType X<span class="token punctuation">,</span> SearchTree T<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>T <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>X <span class="token operator">&lt;</span> T<span class="token operator">-></span>Node<span class="token punctuation">)</span><span class="token function">Find</span><span class="token punctuation">(</span>X<span class="token punctuation">,</span> T<span class="token operator">-></span>L_Child<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>X <span class="token operator">></span> T<span class="token operator">-></span>Node<span class="token punctuation">)</span><span class="token function">Find</span><span class="token punctuation">(</span>X<span class="token punctuation">,</span> T<span class="token operator">-></span>R_Child<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span><span class="token keyword">return</span> T<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="查找最大最小值"><a href="#查找最大最小值" class="headerlink" title="查找最大最小值"></a>查找最大最小值</h3><pre class="language-c" data-language="c"><code class="language-c">Position <span class="token function">FindMin</span><span class="token punctuation">(</span>SearchTree T<span class="token punctuation">)</span><span class="token comment">//递归写法</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>T <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>T<span class="token operator">-></span>L_Child <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token keyword">return</span> T<span class="token punctuation">;</span><span class="token keyword">else</span><span class="token keyword">return</span> <span class="token function">FindMin</span><span class="token punctuation">(</span>T<span class="token operator">-></span>L_Child<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>Position <span class="token function">FindMax</span><span class="token punctuation">(</span>SearchTree T<span class="token punctuation">)</span><span class="token comment">//while循环写法</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>T <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">while</span><span class="token punctuation">(</span>T<span class="token operator">-></span>R_Child <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>T<span class="token operator">=</span>T<span class="token operator">-></span>R_Child<span class="token punctuation">;</span><span class="token keyword">return</span> T<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="二叉树插入元素"><a href="#二叉树插入元素" class="headerlink" title="二叉树插入元素"></a>二叉树插入元素</h3><pre class="language-c" data-language="c"><code class="language-c">SearchTree <span class="token function">Insert</span><span class="token punctuation">(</span>SearchTree T<span class="token punctuation">,</span> ElementType X<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>T<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">// the fist element</span><span class="token punctuation">&#123;</span>T <span class="token operator">=</span> new TreeNode<span class="token punctuation">;</span>T<span class="token operator">-></span>L_Child <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>T<span class="token operator">-></span>R_Child <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>T<span class="token operator">-></span>Node <span class="token operator">=</span> X<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>X <span class="token operator">&lt;</span> T<span class="token operator">-></span>Node<span class="token punctuation">)</span><span class="token comment">//put X on the left</span>T<span class="token operator">-></span>L_Child<span class="token operator">=</span><span class="token function">Insert</span><span class="token punctuation">(</span>T<span class="token operator">-></span>L_Child<span class="token punctuation">,</span> X<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span>             <span class="token comment">//put X on the right</span>T<span class="token operator">-></span>R_Child <span class="token operator">=</span> <span class="token function">Insert</span><span class="token punctuation">(</span>T<span class="token operator">-></span>R_Child<span class="token punctuation">,</span> X<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> T<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="二叉树删除元素"><a href="#二叉树删除元素" class="headerlink" title="二叉树删除元素"></a>二叉树删除元素</h3><pre class="language-c" data-language="c"><code class="language-c">SearchTree <span class="token function">Delete</span><span class="token punctuation">(</span>SearchTree T<span class="token punctuation">,</span> ElementType X<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>T <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>X <span class="token operator">&lt;</span> T<span class="token operator">-></span>Node<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>T<span class="token operator">-></span>L_Child<span class="token operator">=</span> <span class="token function">Delete</span><span class="token punctuation">(</span>T<span class="token operator">-></span>L_Child<span class="token punctuation">,</span> X<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>X <span class="token operator">></span> T<span class="token operator">-></span>Node<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>T<span class="token operator">-></span>R_Child<span class="token operator">=</span><span class="token function">Delete</span><span class="token punctuation">(</span>T<span class="token operator">-></span>R_Child<span class="token punctuation">,</span> X<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>T<span class="token operator">-></span>L_Child <span class="token operator">&amp;&amp;</span> T<span class="token operator">-></span>R_Child<span class="token punctuation">)</span> <span class="token comment">// 2  children</span><span class="token punctuation">&#123;</span>Position minn <span class="token operator">=</span> <span class="token function">FindMin</span><span class="token punctuation">(</span>T<span class="token operator">-></span>R_Child<span class="token punctuation">)</span><span class="token punctuation">;</span>T<span class="token operator">-></span>Node <span class="token operator">=</span> minn<span class="token operator">-></span>Node<span class="token punctuation">;</span>T<span class="token operator">-></span>R_Child <span class="token operator">=</span> <span class="token function">Delete</span><span class="token punctuation">(</span>T<span class="token operator">-></span>R_Child<span class="token punctuation">,</span> T<span class="token operator">-></span>Node<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span>           <span class="token comment">// 1  or  0 child</span><span class="token punctuation">&#123;</span>Position temp <span class="token operator">=</span> T<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>T<span class="token operator">-></span>L_Child <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>T <span class="token operator">=</span> T<span class="token operator">-></span>R_Child<span class="token punctuation">;</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>T<span class="token operator">-></span>R_Child <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>T <span class="token operator">=</span> T<span class="token operator">-></span>L_Child<span class="token punctuation">;</span><span class="token function">free</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> T<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h2 id="二叉树的遍历"><a href="#二叉树的遍历" class="headerlink" title="二叉树的遍历"></a>二叉树的遍历</h2><ul><li>先序遍历$PreOrder(T)=Root(T)+PreOrder(left subT)+PreOrder(right subT)$</li><li>中序遍历$InOrder(T)=InOrder(left subT)+Root(T)+InOrder(right subT)$</li><li>后序遍历$PostOrder(T)=PostOrder(left subT)+PostOrder(Right subT)+Root(T)$</li></ul><p><img src="/2022/02/25/binary_tree_1/image.png" alt="img" loading="lazy"></p><h3 id="先序遍历"><a href="#先序遍历" class="headerlink" title="先序遍历"></a>先序遍历</h3><ol><li>递归实现</li></ol><pre class="language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">PreOrderTraverse</span><span class="token punctuation">(</span>SearchTree T<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>T <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">Retrieve</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token punctuation">;</span><span class="token function">PreOrderTraverse</span><span class="token punctuation">(</span>T<span class="token operator">-></span>L_Child<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">PreOrderTraverse</span><span class="token punctuation">(</span>T<span class="token operator">-></span>R_Child<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><ol><li>迭代实现</li></ol><pre class="language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">PreOrder</span><span class="token punctuation">(</span>BiTree Root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    stack <span class="token operator">&lt;</span>BiTree<span class="token operator">></span> s<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token comment">//如果根节点不为空</span>        s<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//则令根节点入栈</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>s<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//在栈变空之前反复循环</span>    <span class="token punctuation">&#123;</span>         root <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         cout <span class="token operator">&lt;&lt;</span> root<span class="token operator">-></span>data<span class="token punctuation">;</span> <span class="token comment">//弹出并访问当前节点</span>        <span class="token comment">//下面左右孩子的顺序不能颠倒</span>        <span class="token comment">//必须先让右孩子先入栈，再让左孩子入栈。</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>RChild<span class="token punctuation">)</span>            s<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token operator">-></span>RChild<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//右孩子先入后出</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>LChild<span class="token punctuation">)</span>            s<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token operator">-></span>LChild<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//左孩子后入先出</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>我们通过一个实例来了解一下该迭代版本是如何工作的 :</p><p><img src="/2022/02/25/binary_tree_1/v2-0ccba83c7b3dbf7b89964c04021025d9_720w.jpg" alt="img" loading="lazy"></p><h3 id="中序遍历"><a href="#中序遍历" class="headerlink" title="中序遍历"></a>中序遍历</h3><ol><li>递归实现</li></ol><pre class="language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">InOrderTraverse</span><span class="token punctuation">(</span>SearchTree T<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>T <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token function">InOrderTraverse</span><span class="token punctuation">(</span>T<span class="token operator">-></span>L_Child<span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">Retrieve</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span><span class="token function">InOrderTraverse</span><span class="token punctuation">(</span>T<span class="token operator">-></span>R_Child<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><ol><li>迭代实现</li></ol><pre class="language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">InOrderTraverse</span><span class="token punctuation">(</span>BiTree root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>   Stack<span class="token operator">&lt;</span>BiTree<span class="token operator">></span> S<span class="token punctuation">;</span> <span class="token comment">//辅助栈</span>   <span class="token keyword">while</span> <span class="token punctuation">(</span>true<span class="token punctuation">)</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">)</span>       <span class="token punctuation">&#123;</span>         S<span class="token punctuation">.</span><span class="token function">push</span> <span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//根节点进栈</span>         root <span class="token operator">=</span> root<span class="token operator">-></span>LChild<span class="token punctuation">;</span> <span class="token comment">//深入遍历左子树</span>      <span class="token punctuation">&#125;</span>       <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>S<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       <span class="token punctuation">&#123;</span>         root <span class="token operator">=</span> S<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//尚未访问的最低祖先节点退栈</span>         cout <span class="token operator">&lt;&lt;</span> root<span class="token operator">-></span>data<span class="token punctuation">;</span> <span class="token comment">//访问该祖先节点</span>         root <span class="token operator">=</span> root<span class="token operator">-></span>RChild<span class="token punctuation">;</span> <span class="token comment">//遍历祖先的右子树</span>      <span class="token punctuation">&#125;</span>       <span class="token keyword">else</span>         <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">//遍历完成</span><span class="token punctuation">&#125;</span></code></pre><h3 id="后序遍历"><a href="#后序遍历" class="headerlink" title="后序遍历"></a>后序遍历</h3><ol><li>递归实现</li></ol><pre class="language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">PostOrderTraverse</span><span class="token punctuation">(</span>SearchTree T<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>T <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token function">PostOrderTraverse</span><span class="token punctuation">(</span>T<span class="token operator">-></span>L_Child<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">PostOrderTraverse</span><span class="token punctuation">(</span>T<span class="token operator">-></span>R_Child<span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> T<span class="token operator">-></span>Node <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><ol><li>迭代实现</li></ol><pre class="language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">A</span> <span class="token expression"><span class="token operator">!</span>cur<span class="token operator">-></span>Lchild <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>cur<span class="token operator">-></span>Rchild</span></span><span class="token comment">//如果P不存在左孩子和右孩子，则可以直接访问它；</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">B</span> <span class="token expression">pre<span class="token operator">==</span>cur<span class="token operator">-></span>Lchild <span class="token operator">||</span> pre<span class="token operator">==</span>cur<span class="token operator">-></span>Rchild</span></span><span class="token comment">//P存在左孩子或者右孩子，但是其左孩子和右孩子都已被访问过了;</span><span class="token keyword">void</span> <span class="token function">PostOrder</span><span class="token punctuation">(</span>BiTree Root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Root<span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    stack <span class="token operator">&lt;</span>BiTree<span class="token operator">></span> s<span class="token punctuation">;</span><span class="token comment">//辅助栈</span>    BiTree cur<span class="token operator">=</span>Root<span class="token punctuation">,</span>pre<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>    s<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>Root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//根节点进栈</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>s<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cur<span class="token operator">=</span>s<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>A <span class="token operator">||</span> B<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            cout <span class="token operator">&lt;&lt;</span> cur<span class="token operator">-></span>data<span class="token punctuation">;</span>            s<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            pre<span class="token operator">=</span>cur<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">else</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token operator">-></span>Rchild<span class="token punctuation">)</span>                s<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>cur<span class="token operator">-></span>Rchild<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token operator">-></span>Lchild<span class="token punctuation">)</span>                s<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>cur<span class="token operator">-></span>Lchild<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h2 id="main-函数"><a href="#main-函数" class="headerlink" title="main()函数"></a>main()函数</h2><pre class="language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>SearchTree My_Tree <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>My_Tree <span class="token operator">=</span> <span class="token function">MakeEmpty</span><span class="token punctuation">(</span>My_Tree<span class="token punctuation">)</span><span class="token punctuation">;</span>My_Tree <span class="token operator">=</span> <span class="token function">Insert</span><span class="token punctuation">(</span>My_Tree<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>My_Tree <span class="token operator">=</span> <span class="token function">Insert</span><span class="token punctuation">(</span>My_Tree<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>My_Tree <span class="token operator">=</span> <span class="token function">Insert</span><span class="token punctuation">(</span>My_Tree<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>My_Tree <span class="token operator">=</span> <span class="token function">Insert</span><span class="token punctuation">(</span>My_Tree<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>My_Tree <span class="token operator">=</span> <span class="token function">Insert</span><span class="token punctuation">(</span>My_Tree<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> My_Tree<span class="token punctuation">)</span><span class="token punctuation">)</span>My_Tree <span class="token operator">=</span> <span class="token function">Insert</span><span class="token punctuation">(</span>My_Tree<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>My_Tree <span class="token operator">=</span> <span class="token function">Delete</span><span class="token punctuation">(</span>My_Tree<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>SearchTree min <span class="token operator">=</span> <span class="token function">FindMin</span><span class="token punctuation">(</span>My_Tree<span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">Retrieve</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token function">PreOrderTraverse</span><span class="token punctuation">(</span>My_Tree<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">InOrderTraverse</span><span class="token punctuation">(</span>My_Tree<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">PostOrderTraverse</span><span class="token punctuation">(</span>My_Tree<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><p>下一篇文章：<a href="https://tonylsx611.github.io/2022/02/24/binary_tree_2/">数组与链式二叉树之间的转换 | Tony (tonylsx611.github.io)</a></p><p>注：本文图片部分选自<a href="http://data.biancheng.net/；如有侵权，请联系我。">http://data.biancheng.net/；如有侵权，请联系我。</a></p>]]></content>
      
      
      <categories>
          
          <category> algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algorithm </tag>
            
            <tag> Binary-tree </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数组与链式二叉树的转换</title>
      <link href="/2022/02/24/binary_tree_2/"/>
      <url>/2022/02/24/binary_tree_2/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>对二叉树不是很了解的同学可以先看一下我之前的文章：</p><p><a href="https://tonylsx611.github.io/2022/02/25/binary_tree_1/">链式二叉树简介</a></p><h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>在了解二叉树的基本原理后，我们尝试将一个数组转化成链表形式的二叉树，之后将二叉树以中序遍历打印出来。整个的过程即==数组——链表——数组==。</p><p>幸运的是，正好在leetcode中有着一道非常相似的题，所以我就直接拿来使用了，链接如下：</p><p><a href="https://leetcode-cn.com/problems/binary-tree-inorder-traversal/">94. 二叉树的中序遍历 – 力扣（LeetCode） (leetcode-cn.com)</a></p><p>我们稍加修改，首先声明一个int类型的数组，然后把它放入链表二叉树中，如图所示：</p><p><img src="/2022/02/24/binary_tree_2/image.png" alt="img" loading="lazy"></p><pre class="language-none"><code class="language-none">int arr[7] &#x3D; &#123; 1, 2, 3, 4, 5, NULL, 6 &#125;;</code></pre><p>之后的任务就是将数组转化为链表形式，链表的定义如下：</p><pre class="language-none"><code class="language-none">struct TreeNode &#123;    int val;    TreeNode* left;    TreeNode* right;    TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;    TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;    TreeNode(int x, TreeNode* left, TreeNode* right) : val(x), left(left), right(right) &#123;&#125;&#125;;</code></pre><p>转化为链表过后，剩下的事情就很容易了，无非就是前中后序的遍历，我们在<a href="https://tonylsx611.github.io/2022/02/25/binary_tree_1/">上一个blog</a>中已经有详细的介绍，这里更希望大家掌握迭代的算法，而非递归；因为递归在电脑的底层逻辑中，依然是维护一个栈。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>那么全部的代码如下，不做过多解释，有疑问可以在留言板留言。</p><pre class="language-none"><code class="language-none">#include&lt;iostream&gt;#include&lt;vector&gt;using namespace std;struct TreeNode &#123;...&#125;;class Solution &#123;public:    int arr[7] &#x3D; &#123; 1, 2, 3, 4, 5, NULL, 6 &#125;;    void inorder(TreeNode* root, vector&lt;int&gt;&amp; res)&#x2F;&#x2F;中序遍历    &#123;        if (root &#x3D;&#x3D; nullptr)            return;        inorder(root-&gt;left, res);        res.push_back(root-&gt;val);        inorder(root-&gt;right, res);    &#125;    vector&lt;int&gt; inorderTraversal(TreeNode* root)&#x2F;&#x2F;递归法    &#123;        vector&lt;int&gt; ans;        inorder(root, ans);        return ans;    &#125;    vector&lt;int&gt; inorderTraversal(TreeNode* root)&#x2F;&#x2F;迭代法    &#123;        vector&lt;int&gt; ans;        stack&lt;TreeNode*&gt; stk;                   while (1)        &#123;            if (root !&#x3D; nullptr)            &#123;                stk.push(root);                root &#x3D; root-&gt;left;            &#125;            else if (!stk.empty())            &#123;                root &#x3D; stk.top();                stk.pop();                ans.push_back(root-&gt;val);                root &#x3D; root-&gt;right;            &#125;            else                return ans;        &#125;            &#125;    TreeNode* addtree(TreeNode* tree, int arr[], int i)&#x2F;&#x2F;数组转链表    &#123;        if (arr[i] &#x3D;&#x3D; 0)            return NULL;        if (i &lt; 7)&#x2F;&#x2F;arr.length()        &#123;            TreeNode* tree &#x3D; new TreeNode();                        tree-&gt;val &#x3D; arr[i];            tree-&gt;left &#x3D; addtree(tree, arr, i + i + 1);            tree-&gt;right &#x3D; addtree(tree, arr, i + i + 2);            return tree;        &#125;        return NULL;    &#125;&#125;;int main()&#123;    Solution sol;    TreeNode* tree &#x3D; NULL;    tree&#x3D; sol.addtree(tree, sol.arr, 0);    sol.inorderTraversal(tree);    for(int i&#x3D; 0; i&lt; sol.inorderTraversal(tree).size(); i++)        cout &lt;&lt; sol.inorderTraversal(tree)[i]&lt;&lt;&quot; &quot;;    return 0;&#125;</code></pre>]]></content>
      
      
      <categories>
          
          <category> algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algorithm </tag>
            
            <tag> Binary-tree </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 网站搭建指南</title>
      <link href="/2022/02/24/Hexo_creation/"/>
      <url>/2022/02/24/Hexo_creation/</url>
      
        <content type="html"><![CDATA[<h1 id="Hexo-网站搭建指南"><a href="#Hexo-网站搭建指南" class="headerlink" title="Hexo 网站搭建指南"></a>Hexo 网站搭建指南</h1><p>Welcome to <a href="https://hexo.io/">Hexo</a>! </p><p>This is a Guideline of building your own hexo, which is written in English, but easy to understand!</p><h2 id="Preparation-and-Installation"><a href="#Preparation-and-Installation" class="headerlink" title="Preparation and Installation"></a>Preparation and Installation</h2><h3 id="Git-Installation"><a href="#Git-Installation" class="headerlink" title="Git Installation"></a>Git Installation</h3><ul><li>Linux/Mac:</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token function">git</span></code></pre><ul><li>Windows:</li></ul><p>Official link: <a href="https://gitforwindows.org/">Download git</a></p><ul><li>Check whether installed or not:</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> --version</code></pre><h3 id="Nodejs-Installation"><a href="#Nodejs-Installation" class="headerlink" title="Nodejs Installation"></a>Nodejs Installation</h3><ul><li>Linux/Mac:</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> nodejs<span class="token function">sudo</span> aot <span class="token function">install</span> <span class="token function">npm</span></code></pre><ul><li>Windows:</li></ul><p>Official link: <a href="https://nodejs.org/en/download/">nodejs</a> (Suggest you to choose LTS version)</p><ul><li>Check whether installed or not:</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">node</span> -v<span class="token function">npm</span> -v</code></pre><h3 id="Hexo-Installation"><a href="#Hexo-Installation" class="headerlink" title="Hexo Installation"></a>Hexo Installation</h3><ul><li>Linux/Mac:</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">npm</span> <span class="token function">install</span> -g hexo-cli</code></pre><ul><li>Windows:</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> -g hexo-cli</code></pre><ul><li>Check whether installed or not:</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash">hexo -v</code></pre><h2 id="Deploy-local-Hexo"><a href="#Deploy-local-Hexo" class="headerlink" title="Deploy local Hexo"></a>Deploy local Hexo</h2><p>​        First you need to <strong>choose or create a folder</strong> to storage the local hexo website. For instance, in <code>C:/Software/My_Hexo</code>.</p><p>​        Then right click the folder, click <code>open in Windows terminal</code>; or just use command line to get into that folder.</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> hexo init Mybolg<span class="token function">ls</span> Myblog<span class="token function">sudo</span> <span class="token function">npm</span> <span class="token function">install</span></code></pre><p>​        *Note that you can replace <code>Mybolg</code> into any word you like.</p><p>​        Now you can see some files inside the folder, but only three folders you need to concerntrated.</p><p><img src="/2022/02/24/Hexo_creation/image-20220308165404552.png" alt="image-20220308165404552" loading="lazy"></p><ul><li>node_modules: 依赖包</li><li>public：存放生成的页面</li><li>scaffolds：生成文章的一些模板</li><li>==source==：你的文章和素材放在这里</li><li>==themes==：字面意思</li><li>==_config.yml==: 博客的配置文件</li></ul><h2 id="Use-GitHub-to-host"><a href="#Use-GitHub-to-host" class="headerlink" title="Use GitHub to host"></a>Use GitHub to host</h2><h3 id="Create-a-new-repository-on-GitHub"><a href="#Create-a-new-repository-on-GitHub" class="headerlink" title="Create a new repository on GitHub"></a>Create a new repository on GitHub</h3><p>​        Firstly, you need to have a GitHub account…</p><p>​        Then, create a <strong>new repository</strong> on GitHub and named <code>yourusername.github.io</code>, note that you <strong>must</strong> named like this (<code>yourusername</code> is your user name), otherwise the deployment cannot be recognized.</p><p><img src="/2022/02/24/Hexo_creation/image-20220308165502809.png" alt="image-20220308165502809" loading="lazy"> </p><h3 id="Add-SSH-key-to-GitHub"><a href="#Add-SSH-key-to-GitHub" class="headerlink" title="Add SSH key to GitHub"></a>Add SSH key to GitHub</h3><p>​        Back to the terminal, generate the SSH and add it into GitHub so that GitHub can know whether the your computer are visiting the corresponding account.</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> cofig --global user.name <span class="token string">"yourusername"</span><span class="token function">git</span> cofig --global user.email <span class="token string">"youremail"</span>ssh-keygen -t rsa -C <span class="token string">"youremail"</span></code></pre><p>​        The computer then will tell you the path of <code>.ssh</code>, find it on your computer, and open it via notepad.</p><p>​        To say it simpler, SSH is just the ID of your computer, GitHub recognized your computer via this ID. <code>id_rsa</code> is your private key that you cannot show it to others, while <code>id_rsa.pub</code> is the public key, you can copy the info to GitHub.</p><p>​        <code>Github -&gt; settings -&gt; personal settings -&gt; SSH and PGP keys -&gt; New SSH key</code></p><p>​        You can verify whether add the SSH key successfully via your terminal:</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> -T git@github.com</code></pre><h3 id="Deploy-hexo-to-GitHub"><a href="#Deploy-hexo-to-GitHub" class="headerlink" title="Deploy hexo to GitHub"></a>Deploy hexo to GitHub</h3><p>​        Open your folder, remember the three folders that I let you to concentrate? Now it turns into <code>_config.yml</code> file, open it and add something in the end:</p><pre class="language-bash" data-language="bash"><code class="language-bash">deploy:  type: <span class="token function">git</span>  repo: https://github.com/yourusername/yourusername.github.io.git  branch: master</code></pre><p>​        <em>Notice the format must be totally same with me, pay attention to the <em>*blanks</em></em>.</p><p>​        Before deployment, you need to install the <code>deploy-git</code> in your computer so that you can deploy your own hexo into GitHub.</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">npm</span> <span class="token function">install</span> hexo-deployer-git --save</code></pre><p>​        Finally, deploy your website via the following commands, and you can visit your bolg via <code>http://yourusername.github.io</code>.</p><pre class="language-bash" data-language="bash"><code class="language-bash">hexo cleanhexo deployhexo generate</code></pre><hr><p>注：本文部分内容引用自<a href="https://blog.csdn.net/sinat_37781304/article/details/82729029">hexo史上最全搭建教程_Fangzh的技术博客</a>， 如有侵权，请联系我。</p>]]></content>
      
      
      <categories>
          
          <category> Hexo搭建 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo文章发布指南</title>
      <link href="/2022/02/20/Hexo_article/"/>
      <url>/2022/02/20/Hexo_article/</url>
      
        <content type="html"><![CDATA[<h2 id="Upload-your-first-article"><a href="#Upload-your-first-article" class="headerlink" title="Upload your first article"></a>Upload your first article</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="language-bash" data-language="bash"><code class="language-bash">hexo new <span class="token string">"My New Post"</span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="language-bash" data-language="bash"><code class="language-bash">hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="language-bash" data-language="bash"><code class="language-bash">hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="language-bash" data-language="bash"><code class="language-bash">hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p><h3 id="Advanced-Settings"><a href="#Advanced-Settings" class="headerlink" title="Advanced Settings"></a>Advanced Settings</h3><p>​        Create a bat format file (e.g. <code>start.bat</code>) in the root folder of your blog.</p><pre class="language-bash" data-language="bash"><code class="language-bash">hexo clean <span class="token operator">&amp;</span> hexo d <span class="token operator">&amp;</span> hexo g <span class="token operator">&amp;</span> hexo spause</code></pre><p>​        Then every time you uploaded a file or change any settings, you can just double click the .bat file to update your blog, which is very convenience.</p><h2 id="Hexo发布类型样例"><a href="#Hexo发布类型样例" class="headerlink" title="Hexo发布类型样例"></a>Hexo发布类型样例</h2><h3 id="Title"><a href="#Title" class="headerlink" title="Title"></a>Title</h3><p>在md下直接使用 # 进行新建标题，左侧菜单栏会自动生成H1-H6的标题，very nice!</p><p><img src="/2022/02/20/Hexo_article/image-20220308162506034.png" alt="image-20220308162506034" style="zoom:50%;" loading="lazy"></p><h3 id="头部字段"><a href="#头部字段" class="headerlink" title="头部字段"></a>头部字段</h3><p>在文章的第一行使用三个<code>-</code>（就是分割线）来创建头部字段。</p><ul><li>格式如下：</li></ul><pre class="language-none"><code class="language-none">title: Hexo文章发布指南date: 2077-02-20 00:34:49author: Tonycategories:- Hexo搭建tags: - tag1- tag2katex: true</code></pre><p>其中，<code>categories</code>在一篇文章中建议只设置一个，而<code>tags</code>可以设置很多个。这样可以防止文章分类混乱，在左侧菜单栏中可以很方便的访问。</p><p><img src="/2022/02/20/Hexo_article/image-20220308162715529.png" alt="image-20220308162715529" loading="lazy"></p><h3 id="数学公式"><a href="#数学公式" class="headerlink" title="数学公式"></a>数学公式</h3><p>行内公式使用 $$$ 将数学公式括起来就好，行间公式使用两个$$$$，这跟md的格式是一样的。</p><p>需要注意的是，如果文章中需要使用数学公式，最好在头部字段前添加<code>katex: true</code>的字样。</p><ul><li>数学公式样例：</li></ul><p>我是行内公式：$x=x^{45}+3$，我还可以接着写。。。</p><script type="math/tex; mode=display">x_1=x_3+2\times x^6\\\alpha：我是行间公式\\\left[\begin{matrix}1 & 2 & 3\\4 & 5 & 6\\7 & 8 & 9\\\end{matrix}\right]</script><h3 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h3><p>只需要将图片拖入md文档中即可，md会自动创建一个与文件名相同的文件夹以储存所有的图片素材，并会自动将图片复制到该文件夹中，因此所有的图片只需要输入相对路径即可。</p><p>比如，本文章的名字为test，那么只需要这样写：<code>![IMG_1479](test/IMG_1479.jpg)</code></p><p>注：Hexo支持GIF格式的图片哦！</p><p><img src="/2022/02/20/Hexo_article/IMG_1479.jpg" alt="IMG_1479" loading="lazy"></p><p><img src="/2022/02/20/Hexo_article/2d6f869662e83398f06070e2a14f838.jpg" alt="2d6f869662e83398f06070e2a14f838" loading="lazy"></p><p><img src="/2022/02/20/Hexo_article/traffic-light.gif" alt="traffic-light" loading="lazy"></p><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><p>主题中默认代码有些会很丑，建议修改<code>_config.yml</code>中的指令把代码前面的行号取消，这样或许会变得好看一些，个人建议仅供参考。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include&lt;iostream&gt;using namespace std;int main()&#123;int a,b,c;cin&gt;&gt;a&gt;&gt;c;for(int i&#x3D;0;i&lt;a;i++)cout&lt;&lt;c*a&lt;&lt;endl;return 0;&#125;</code></pre><h3 id="文字"><a href="#文字" class="headerlink" title="文字"></a>文字</h3><ul><li>高亮语法：==Highlight==ing （==）</li><li>加粗：<strong>Bold</strong> （**）</li><li>斜体：<em>Wall</em>（*）</li><li>删除线：<del>请给我打钱</del>（~~）</li></ul><h3 id="音频及视频"><a href="#音频及视频" class="headerlink" title="音频及视频"></a>音频及视频</h3><p>暂不支持。。。</p><p>（正在努力开发中。。。）</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>test/DSC_7412.MOV<span class="token punctuation">'</span></span>        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>video/mp4<span class="token punctuation">'</span></span>        <span class="token attr-name">controls</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>controls<span class="token punctuation">'</span></span>         <span class="token attr-name">preload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>auto<span class="token punctuation">"</span></span>       <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>100%<span class="token punctuation">'</span></span>        <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>100%<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">></span></span></code></pre><script type="math/tex; mode=display">END</script>]]></content>
      
      
      <categories>
          
          <category> Hexo搭建 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
